<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>DP4SS - 24&nbsp; The Grammar of Graphics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./6_31-xkcd-stickfigures.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="site_libs/plotly-binding-4.10.4/plotly.js"></script>

<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>

<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>

<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>

<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">

<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>



<link rel="stylesheet" href="www/textbook.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./6_10-intro-to-data-viz.html">Intro to Data Viz</a></li><li class="breadcrumb-item"><a href="./6_40-ggplot2.html"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">The Grammar of Graphics</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">DP4SS</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">The Data Science Toolkit</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0_10-core-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">The <strong>R</strong> Language</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0_20-rstudio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">R Studio</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0_30-data-driven-docs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data-Driven Docs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0_31-markdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Markdown Guide</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Getting Started</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1_00-learning-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Learning to Program</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1_10-getting-help.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Getting Help</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">The Fundamentals</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2_10-calculator.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">R: An Overdesigned Calculator</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2_20-functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Introduction to Functions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2_30-assignment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Assignment</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3_10-data-types.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Vectors and Data Types</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3_20-data-exploration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Exploring Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3_21-summary-stats.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Descriptive Statistics</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Data IO</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2_40-importing-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Getting Data into R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2_50-saving-objects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Saving Data to File</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Data Wrangling</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4_10-data-verbs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Data Verbs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4_20-data-recipes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Data Recipes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4_30-data-joins-core.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Data Joins</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4_40-data-joins-dplyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Data Joins With dplyr</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5_10-constructing-groups.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Constructing Groups</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5_20-group-structure.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Efficient Use of Group Structure</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./6_10-intro-to-data-viz.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Intro to Data Viz</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./6_20-plot-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">The plot() Function</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./6_30-customized-graphics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Customizing Plots</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./6_31-xkcd-stickfigures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Stylized Plot Example</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./6_40-ggplot2.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">The Grammar of Graphics</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#why-visualize-data" id="toc-why-visualize-data" class="nav-link active" data-scroll-target="#why-visualize-data"><span class="header-section-number">24.4</span> Why Visualize Data?</a>
  <ul class="collapse">
  <li><a href="#explanatory-visualization" id="toc-explanatory-visualization" class="nav-link" data-scroll-target="#explanatory-visualization"><span class="header-section-number">24.4.1</span> Explanatory Visualization</a></li>
  <li><a href="#exploratory-visualization" id="toc-exploratory-visualization" class="nav-link" data-scroll-target="#exploratory-visualization"><span class="header-section-number">24.4.2</span> Exploratory Visualization</a></li>
  <li><a href="#do-i-have-to-visualize" id="toc-do-i-have-to-visualize" class="nav-link" data-scroll-target="#do-i-have-to-visualize"><span class="header-section-number">24.4.3</span> Do I have to Visualize?</a></li>
  </ul></li>
  <li><a href="#the-grammar-of-graphics" id="toc-the-grammar-of-graphics" class="nav-link" data-scroll-target="#the-grammar-of-graphics"><span class="header-section-number">24.5</span> The Grammar of Graphics</a>
  <ul class="collapse">
  <li><a href="#a-brief-overview" id="toc-a-brief-overview" class="nav-link" data-scroll-target="#a-brief-overview"><span class="header-section-number">24.5.1</span> A Brief Overview</a></li>
  <li><a href="#layers-parts-of-viz" id="toc-layers-parts-of-viz" class="nav-link" data-scroll-target="#layers-parts-of-viz"><span class="header-section-number">24.5.2</span> Layers: Parts of Viz</a></li>
  <li><a href="#essential-layers-data-mappings-shapes" id="toc-essential-layers-data-mappings-shapes" class="nav-link" data-scroll-target="#essential-layers-data-mappings-shapes"><span class="header-section-number">24.5.3</span> Essential Layers: Data, Mappings, &amp; Shapes</a></li>
  <li><a href="#remaining-layers" id="toc-remaining-layers" class="nav-link" data-scroll-target="#remaining-layers"><span class="header-section-number">24.5.4</span> Remaining Layers</a></li>
  </ul></li>
  <li><a href="#download-the-practice-data" id="toc-download-the-practice-data" class="nav-link" data-scroll-target="#download-the-practice-data"><span class="header-section-number">24.6</span> Download the Practice Data</a></li>
  <li><a href="#package-ggplot2" id="toc-package-ggplot2" class="nav-link" data-scroll-target="#package-ggplot2"><span class="header-section-number">24.7</span> Package “ggplot2”</a></li>
  <li><a href="#notable-layer-functions" id="toc-notable-layer-functions" class="nav-link" data-scroll-target="#notable-layer-functions"><span class="header-section-number">24.8</span> Notable Layer Functions</a>
  <ul class="collapse">
  <li><a href="#the-aesthetics-layer-1" id="toc-the-aesthetics-layer-1" class="nav-link" data-scroll-target="#the-aesthetics-layer-1"><span class="header-section-number">24.8.1</span> The Aesthetics Layer</a></li>
  <li><a href="#the-geometry-layer-1" id="toc-the-geometry-layer-1" class="nav-link" data-scroll-target="#the-geometry-layer-1"><span class="header-section-number">24.8.2</span> The Geometry Layer</a></li>
  <li><a href="#the-statistics-layer" id="toc-the-statistics-layer" class="nav-link" data-scroll-target="#the-statistics-layer"><span class="header-section-number">24.8.3</span> The Statistics Layer</a></li>
  <li><a href="#the-coordinates-layer-planes" id="toc-the-coordinates-layer-planes" class="nav-link" data-scroll-target="#the-coordinates-layer-planes"><span class="header-section-number">24.8.4</span> The Coordinates Layer: Planes</a></li>
  <li><a href="#the-coordinates-layer-scales" id="toc-the-coordinates-layer-scales" class="nav-link" data-scroll-target="#the-coordinates-layer-scales"><span class="header-section-number">24.8.5</span> The Coordinates Layer: Scales</a></li>
  <li><a href="#the-faceting-layer" id="toc-the-faceting-layer" class="nav-link" data-scroll-target="#the-faceting-layer"><span class="header-section-number">24.8.6</span> The Faceting Layer</a></li>
  <li><a href="#the-themes-layer" id="toc-the-themes-layer" class="nav-link" data-scroll-target="#the-themes-layer"><span class="header-section-number">24.8.7</span> The Themes Layer</a></li>
  </ul></li>
  <li><a href="#interactive-charts-with-plotly" id="toc-interactive-charts-with-plotly" class="nav-link" data-scroll-target="#interactive-charts-with-plotly"><span class="header-section-number">24.9</span> Interactive Charts with “plotly”</a></li>
  <li><a href="#combining-plots" id="toc-combining-plots" class="nav-link" data-scroll-target="#combining-plots"><span class="header-section-number">24.10</span> Combining Plots</a></li>
  <li><a href="#package-ggplot2-extensions" id="toc-package-ggplot2-extensions" class="nav-link" data-scroll-target="#package-ggplot2-extensions"><span class="header-section-number">24.11</span> Package “ggplot2” Extensions</a></li>
  <li><a href="#further-resources" id="toc-further-resources" class="nav-link" data-scroll-target="#further-resources"><span class="header-section-number">24.12</span> Further Resources</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./6_10-intro-to-data-viz.html">Intro to Data Viz</a></li><li class="breadcrumb-item"><a href="./6_40-ggplot2.html"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">The Grammar of Graphics</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">The Grammar of Graphics</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<script src="https://cdn.datacamp.com/datacamp-light-latest.min.js"></script>
<p><br> <br></p>
<div class="tip">
<section id="key-concepts" class="level2" data-number="24.1">
<h2 data-number="24.1" class="anchored" data-anchor-id="key-concepts"><span class="header-section-number">24.1</span> Key Concepts</h2>
<p>In this chapter, we’ll explore the following key concepts:</p>
<ul>
<li>Exploratory Data Analysis (EDA)</li>
<li>Exploratory Data Visualization (EDV)</li>
<li>Explanatory vs.&nbsp;Explanatory Plots</li>
<li>The Grammar of Graphics</li>
<li>Data &amp; Non-Data Ink</li>
<li>Aesthetic Mappings</li>
<li>Attributes</li>
<li>Overplotting</li>
<li>Faceting</li>
</ul>
</section>
<section id="new-packages" class="level2" data-number="24.2">
<h2 data-number="24.2" class="anchored" data-anchor-id="new-packages"><span class="header-section-number">24.2</span> New Packages</h2>
<p>This chapter uses the following packages:</p>
<ul>
<li>ggplot2</li>
<li>GGally</li>
<li>scales</li>
<li>plotly</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>( datasets )</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>( ggplot2 )</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>( GGally )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Registered S3 method overwritten by 'GGally':
  method from   
  +.gg   ggplot2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>( scales )</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>( plotly )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'plotly'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:ggplot2':

    last_plot</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:stats':

    filter</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:graphics':

    layout</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>( tidyverse )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ lubridate 1.9.3     ✔ tibble    3.2.1
✔ purrr     1.0.2     ✔ tidyr     1.3.1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ readr::col_factor() masks scales::col_factor()
✖ purrr::discard()    masks scales::discard()
✖ dplyr::filter()     masks plotly::filter(), stats::filter()
✖ dplyr::lag()        masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
</div>
</section>
<section id="key-takeaways" class="level2" data-number="24.3">
<h2 data-number="24.3" class="anchored" data-anchor-id="key-takeaways"><span class="header-section-number">24.3</span> Key Takeaways</h2>
<p>Too long; didn’t read? Here’s what you need to know:</p>
<ul>
<li>We visualize data to:
<ul>
<li>Submit, Publish, Teach (“Explanatory Viz”)</li>
<li>Explore, Learn, Share (“Exploratory Viz”)</li>
</ul></li>
<li>Exploratory viz is a key part of any data analysis</li>
<li>“Grammar of Graphics” framework inspired “ggplot2”</li>
<li>“Layers” are like visual parts of speech
<ul>
<li>There are 7 layers - 3 are essential</li>
<li>Each layer has a family of functions</li>
</ul></li>
<li>Essential layers include:
<ol type="1">
<li>Data: Intakes data frame/tibble</li>
<li>Aesthetic: Maps variables to axes, color, etc.</li>
<li>Geometry: Specifies the shape of your data</li>
</ol></li>
<li>Nonessential layers include:
<ol start="4" type="1">
<li>Statistics: Modeling and computation</li>
<li>Coordinates: Zooming in and modifying scales</li>
<li>Facets: Small multiples, a.k.a. trellis plots</li>
<li>Themes: Overall style - grid lines, text, etc.</li>
</ol></li>
<li>Variety of ggplot2 extensions (see resources)</li>
<li>Use package “plotly” to make ggplot2 interactive</li>
</ul>
<p><br> <br> <br></p>
</section>
</div>
<p><br> <br></p>
<section id="why-visualize-data" class="level2" data-number="24.4">
<h2 data-number="24.4" class="anchored" data-anchor-id="why-visualize-data"><span class="header-section-number">24.4</span> Why Visualize Data?</h2>
<p>We visualize data for two principal reasons. We want to:</p>
<ol type="1">
<li>Learn about our data, i.e.&nbsp;<strong>exploratory data visualization</strong></li>
<li>Tell our data’s stories to others, i.e.&nbsp;<strong>explanatory data visualization</strong></li>
</ol>
<p><br> <br></p>
<section id="explanatory-visualization" class="level3" data-number="24.4.1">
<h3 data-number="24.4.1" class="anchored" data-anchor-id="explanatory-visualization"><span class="header-section-number">24.4.1</span> Explanatory Visualization</h3>
<p><strong>Explanatory visualization</strong> is polished, publication-quality, and interpretable:</p>
<ul>
<li>Meant to be consumed by broad, non-specialist audiences</li>
<li>Takes significant time and iterations to perfect</li>
<li>Conveys one or two “big ideas”, each</li>
</ul>
<p><br></p>
<p>Just note the length of the code and its result. What idea does this plot convey?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">read_csv</span>(url), <span class="fu">aes</span>(<span class="at">x =</span> val, <span class="at">y =</span> myr)) <span class="sc">+</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.3</span>, <span class="at">color =</span> <span class="st">"tomato"</span>) <span class="sc">+</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">color =</span> <span class="st">"grey50"</span>, <span class="at">lwd =</span> <span class="dv">1</span>, <span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> elm) <span class="sc">+</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Annual income vs. Holland personality scores"</span>, </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Personality Score"</span>,</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Income (K)"</span>,</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Sources: US DOL O*NET &amp; BLS"</span>) <span class="sc">+</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"0"</span>, <span class="st">"50"</span>, <span class="st">"100"</span>, <span class="st">"150"</span>, <span class="st">"$200"</span>)) <span class="sc">+</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>To experiment with Holland codes and predicted income, <a href="https://uruguayguy.shinyapps.io/shiny_app/">check it out in Shiny</a>.</p>
<p><br> <br></p>
</section>
<section id="exploratory-visualization" class="level3" data-number="24.4.2">
<h3 data-number="24.4.2" class="anchored" data-anchor-id="exploratory-visualization"><span class="header-section-number">24.4.2</span> Exploratory Visualization</h3>
<p><strong>Exploratory visualization</strong> is “quick and dirty” and intends to discover.</p>
<ul>
<li>Meant to be consumed by yourself, colleagues, or other specialists</li>
<li>Created quickly, with no polish, refinement, or audience in mind</li>
<li>Can convey many ideas, or none - that’s why you do it!</li>
</ul>
<p><br></p>
<p>This code is manageable! Observe a simple call to <code>ggpairs()</code> and the <code>iris</code> dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>( ggplot2 )</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>( GGally )</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggpairs</span>( <span class="at">data=</span>iris, <span class="fu">aes</span>( <span class="at">color=</span>Species ) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<center>
<p><em>With just a little code, pairs plots visualize every variable against the other.</em></p>
</center>
<p><br></p>
<p>Hopefully, you wouldn’t publish this. But we can quickly find patterns in a pairs plot:</p>
<ul>
<li>We can see positive correlations between sepal and petals for two species</li>
<li>We observe that “Setosa” have thinner, longer sepals compared to others</li>
<li>We also observe that “Versicolor” has the least variation in size</li>
</ul>
<p>Such visual exploration can help refine hypotheses before analysis begins!</p>
<p><br> <br></p>
<div class="quiz">
<p><br></p>
<p>YOUR TURN: EXPLORATORY VIZ WITH PAIRS PLOTS</p>
<p><br></p>
<p>Load the necessary packages with <code>library()</code>.</p>
<p>Then, call <code>ggpairs()</code> on the <code>economics</code> dataset from ggplot2.</p>
<p><br></p>
</div>
<p><br></p>
<div class="cell" data-ex="example-01" type="sample-code" data-tut="true">
<p>dc_light_exercise_example-01</p>
</div>
<p><br> <br></p>
</section>
<section id="do-i-have-to-visualize" class="level3" data-number="24.4.3">
<h3 data-number="24.4.3" class="anchored" data-anchor-id="do-i-have-to-visualize"><span class="header-section-number">24.4.3</span> Do I have to Visualize?</h3>
<p>Exploratory viz is a key component in <strong>exploratory data analysis</strong>, or <strong>EDA</strong>.</p>
<p>Failing to visually explore your data can get you in hot water. Let’s try it!</p>
<p><br></p>
<p>Observe the following data frame containing four data sets.</p>
<p>Variable <code>x1</code> corresponds to <code>y1</code>, <code>x2</code> to <code>y2</code>, and so forth:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(datasets)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>anscombe</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   x1 x2 x3 x4    y1   y2    y3    y4
1  10 10 10  8  8.04 9.14  7.46  6.58
2   8  8  8  8  6.95 8.14  6.77  5.76
3  13 13 13  8  7.58 8.74 12.74  7.71
4   9  9  9  8  8.81 8.77  7.11  8.84
5  11 11 11  8  8.33 9.26  7.81  8.47
6  14 14 14  8  9.96 8.10  8.84  7.04
7   6  6  6  8  7.24 6.13  6.08  5.25
8   4  4  4 19  4.26 3.10  5.39 12.50
9  12 12 12  8 10.84 9.13  8.15  5.56
10  7  7  7  8  4.82 7.26  6.42  7.91
11  5  5  5  8  5.68 4.74  5.73  6.89</code></pre>
</div>
</div>
<p>At a glance, they look like the have some similarities!</p>
<p><br></p>
<p><strong>Check It:</strong> Let’s perform a few statistical EDA functions on each subset, 1-4.</p>
<p>What do you notice when we figure out and organize:</p>
<ul>
<li>Average of all X and Y values with <code>mean()</code></li>
<li>Variance of all X and Y values with <code>var()</code></li>
<li>Correlation between X and Y for all sets with <code>cor()</code></li>
<li>Linear regression coefficients between X and Y with <code>lm()</code></li>
</ul>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>      x_mean   y_mean x_var    y_var    correl     coeff
Set 1      9 7.500909    11 4.127269 0.8164205 0.5000909
Set 2      9 7.500909    11 4.127629 0.8162365 0.5000000
Set 3      9 7.500000    11 4.122620 0.8162867 0.4997273
Set 4      9 7.500909    11 4.123249 0.8165214 0.4999091</code></pre>
</div>
</div>
<p><br></p>
<p><strong>Heavens to Murgatroyd!</strong> These are practically the same sets!</p>
<ul>
<li>The mean and variance of X is the exact same across sets</li>
<li>The mean and variance of Y is <em>almost</em> exactly the same across sets</li>
<li>The correlation between X &amp; Y is extremely close across sets</li>
<li>The coefficient of determination is also extremely close</li>
</ul>
<p><br></p>
<p>Once visualized, all four linear relationships appear to be exactly the same:</p>
<center>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</center>
<p><br></p>
<p><strong>Well, that settles that.</strong> Pack it up, folks - the data are the same.</p>
<p><br></p>
<p><em>Hold up.</em></p>
<p><br></p>
<p><em>Wait a minute.</em></p>
<p><br></p>
<p><em>Something ain’t right.</em></p>
<p><br></p>
<p><strong>Let’s try replotting</strong> the actual datasets and not just their linear models.</p>
<p><br></p>
<center>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</center>
<p><br></p>
<p><strong>Boom!</strong> Not the same datasets <em>at all</em>.</p>
<p><br></p>
<p>Despite having the same mean, variance, correlations, and coefficients:</p>
<ul>
<li>Dataset 1 is a normally distributed linear relationship</li>
<li>Dataset 2 is a parabolic curve</li>
<li>Dataset 3 is a perfect linear relationship with a high-leverage outlier</li>
<li>Dataset 4 shows absolutely no relationship but again has an outlier</li>
</ul>
<p><br></p>
<p><strong>Conclusion:</strong> Always conduct exploratory visualization as a staple of any analysis.</p>
<p><br> <br></p>
<div class="note">
<p><strong>FUN FACT:</strong></p>
<p><strong>You just got Anscombe’d.</strong> <a href="https://en.wikipedia.org/wiki/Frank_Anscombe">Francis John “Frank” Anscombe</a> was an English statistician who helped pioneer the field in the twentieth century. He wrote:</p>
<p><br></p>
<blockquote class="blockquote">
<p>“…a computer should make both calculations and graphs…”</p>
</blockquote>
<p><br></p>
<p>To demonstrate, Anscombe invented these datasets: <a href="https://en.wikipedia.org/wiki/Anscombe%27s_quartet">Anscombe’s Quartet</a>.</p>
</div>
<p><br> <br></p>
</section>
</section>
<section id="the-grammar-of-graphics" class="level2" data-number="24.5">
<h2 data-number="24.5" class="anchored" data-anchor-id="the-grammar-of-graphics"><span class="header-section-number">24.5</span> The Grammar of Graphics</h2>
<p>We’ve compared human language and programming languages in the past.</p>
<p>Let’s take the analogy further. <strong>Observe the following sentence:</strong></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://mir-s3-cdn-cf.behance.net/project_modules/disp/7a5a8f10364877.560e3a9483d9b.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>The quick brown fox jumps over the lazy dog.</figcaption>
</figure>
</div>
</div>
</div>
<center>
Source: <a href="https://www.behance.net/gallery/10364877/The-quick-brown-fox-jumps-over-the-lazy-dog">Chionetti, A. (2013)</a>
</center>
<p><br></p>
<p>Recall that language consists of nouns, verbs, adjectives, articles, prepositions, etc.</p>
<p>If we change any <strong>part of speech</strong>, we change the meaning of our sentence. Observe:</p>
<p><br></p>
<blockquote class="blockquote">
<p>The quick brown fox jumps <strong>off</strong> the lazy dog.</p>
</blockquote>
<p><br></p>
<p><strong>Now the fox has escalated things, opting to use the poor dog as a springboard.</strong></p>
<p><br></p>
<blockquote class="blockquote">
<p>The quick brown fox <strong>runs</strong> over the lazy dog.</p>
</blockquote>
<p><br></p>
<p><strong>Well this is just getting graphic.</strong></p>
<p><br></p>
<blockquote class="blockquote">
<p>The <strong>decrepit</strong> brown fox jumps over the lazy dog.</p>
</blockquote>
<p><br></p>
<p><strong>He’s a good dog.</strong></p>
<p><br></p>
<p><strong>Parts of Speech:</strong> Every <em>part of speech</em> (like adjectives, e.g.&nbsp;“quick”, “lazy”) has a function.</p>
<p>Nouns describe things, verbs describe actions, adjectives describe qualities, etc.</p>
<p><br></p>
<p><strong>Parts of Viz:</strong> Like language, there are <em>parts of visualization</em>. Each part has a function.</p>
<ul>
<li><p>A chart’s <em>data</em> could be anything, like quarterly revenues or ELA scores</p></li>
<li><p>A chart’s <em>geometry</em> could represent the data as bars, points, lines, or shapes</p></li>
<li><p>A chart’s <em>theme</em> could use different fonts, gridlines, transparencies, etc.</p></li>
</ul>
<p><br></p>
<p>These are just some <em>parts of viz</em> in a larger framework: <strong>The Grammar of Graphics</strong>.</p>
<p><br> <br></p>
<section id="a-brief-overview" class="level3" data-number="24.5.1">
<h3 data-number="24.5.1" class="anchored" data-anchor-id="a-brief-overview"><span class="header-section-number">24.5.1</span> A Brief Overview</h3>
<p>In 1999, statistician <a href="https://en.wikipedia.org/wiki/Leland_Wilkinson">Leland Wilkinson</a> published <a href="https://books.google.com/books/about/The_Grammar_of_Graphics.html?id=ZiwLCAAAQBAJ"><strong>The Grammar of Graphics</strong></a>.</p>
<p>This framework allows us to dissect and alter plots in the same way we would a sentence.</p>
<p>Let’s begin with <em>parts of viz</em>, or <strong>layers</strong>.</p>
<p><br> <br></p>
</section>
<section id="layers-parts-of-viz" class="level3" data-number="24.5.2">
<h3 data-number="24.5.2" class="anchored" data-anchor-id="layers-parts-of-viz"><span class="header-section-number">24.5.2</span> Layers: Parts of Viz</h3>
<p>In the grammar of graphics framework, each visualization is comprised of <strong>layers</strong>.</p>
<ul>
<li>Each <strong>layer</strong> performs a unique function in a visualization</li>
<li>Like <em>parts of speech</em>, a <strong>layer</strong> can perform one function in infinite ways
<ul>
<li>For example, the <strong>data layer</strong> functions to input your data</li>
<li>A noun can be “fox” or “dog; a dataset can be”DOL” or “TSA”</li>
</ul></li>
</ul>
<p><br> <br></p>
</section>
<section id="essential-layers-data-mappings-shapes" class="level3" data-number="24.5.3">
<h3 data-number="24.5.3" class="anchored" data-anchor-id="essential-layers-data-mappings-shapes"><span class="header-section-number">24.5.3</span> Essential Layers: Data, Mappings, &amp; Shapes</h3>
<p>Like human <em>sentences</em>, every complete visualization has 3 essential layers:</p>
<p><br> <br> <br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/essential_layers.jpg" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>The three essential layers for a complete visualization.</figcaption>
</figure>
</div>
</div>
</div>
<p><br> <br> <br></p>
<section id="the-data-layer" class="level4" data-number="24.5.3.1">
<h4 data-number="24.5.3.1" class="anchored" data-anchor-id="the-data-layer"><span class="header-section-number">24.5.3.1</span> The Data Layer</h4>
<p>The <strong>data layer</strong> conveys the dataset informing the visualization.</p>
<ul>
<li>The data layer inputs a dataset, but doesn’t specify the variables you show</li>
<li>Visualizations can have more than one data layer, e.g.&nbsp;overlay plots</li>
</ul>
<p><br></p>
<p>The <strong>data layer</strong> in everyday conversation:</p>
<blockquote class="blockquote">
<p>“Are you pulling occupations from O*NET or BLS? We only need SOC-level.”</p>
</blockquote>
<p><br></p>
<p><strong>Intepretation:</strong> Your data layer is comprised of your data source.</p>
<p><br> <br></p>
<p>Observe the same plot - the only difference is the <strong>data layer</strong>. What changes?</p>
<p><br> <br></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br> <br></p>
</section>
<section id="the-aesthetics-layer" class="level4" data-number="24.5.3.2">
<h4 data-number="24.5.3.2" class="anchored" data-anchor-id="the-aesthetics-layer"><span class="header-section-number">24.5.3.2</span> The Aesthetics Layer</h4>
<p>The <strong>aesthetics layer</strong> conveys which variables to visualize.</p>
<ul>
<li><strong>Aesthetics</strong> refers to the visual ways to represent variables</li>
<li>Aesthetics include size, shape, color, fill, line type, transparency, etc.</li>
<li>The most common aesthetic mapping is using x- and y-axes to show quantities</li>
<li>Aesthetics adjust dynamically with your data - <em>they are not static</em></li>
</ul>
<p><br></p>
<p>The <strong>aesthetics layer</strong> in everyday conversation:</p>
<blockquote class="blockquote">
<p>“Can you color-code the datapoints by gender?”</p>
</blockquote>
<p><br></p>
<p><strong>Intepretation:</strong> Aesthetics use visual elements like color to convey more data.</p>
<p><br> <br></p>
<p>Observe the same plot - the only difference is the <strong>aesthetics layer</strong>. What changes?</p>
<p><br> <br></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br> <br></p>
</section>
<section id="the-geometry-layer" class="level4" data-number="24.5.3.3">
<h4 data-number="24.5.3.3" class="anchored" data-anchor-id="the-geometry-layer"><span class="header-section-number">24.5.3.3</span> The Geometry Layer</h4>
<p>The <strong>geometry layer</strong> conveys the shape your variables use to visualize data.</p>
<ul>
<li><strong>Geometries</strong> include scatter plots, bar charts, line graphs, etc.</li>
<li>Some geometries are only compatible with certain variables</li>
<li>Geometries can also take <strong>attributes</strong>, like size, shape, color, etc.</li>
<li>Geometry attributes do not adjust dynamically with data - <em>they are static</em></li>
</ul>
<p><br></p>
<p>The <strong>geometry layer</strong> in everyday conversation:</p>
<blockquote class="blockquote">
<p>“I’m trying to emphasize the increase in elevated blood lead levels over time.”</p>
</blockquote>
<p><br></p>
<p><strong>Intepretation:</strong> It sounds like they’d want a line graph or bar chart to show change.</p>
<p><br> <br></p>
<p>Observe the same plot - the only difference is the <strong>geometry layer</strong>. What changes?</p>
<p><br> <br></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br> <br></p>
<div class="tip">
<p>PRO TIP</p>
<p>It seems like a small distinction, but the difference is critical:</p>
<ul>
<li>Both “Attributes” and “Aesthetics” use color, size, line width, fill, etc.</li>
<li>“Attributes” are static and unchanging</li>
<li>“Aesthetics” are dynamic and change with your data</li>
</ul>
<p><br></p>
<p>All “aesthetics” are specified in the “aesthetics” layer.</p>
<p>All “attributes” are specified in the “geometries” layer.</p>
</div>
<p><br> <br></p>
</section>
</section>
<section id="remaining-layers" class="level3" data-number="24.5.4">
<h3 data-number="24.5.4" class="anchored" data-anchor-id="remaining-layers"><span class="header-section-number">24.5.4</span> Remaining Layers</h3>
<p>The 4 remaining <strong>layers</strong> in the <strong>grammar of graphics</strong> include:</p>
<ul>
<li>The <strong>coordinates layer</strong> modifies plot zoom, truncation, and labeling</li>
<li>The <strong>statistics layer</strong> performs statistical transformations like lines of best fit</li>
<li>The <strong>facets layer</strong> creates multiple comparison plots, a.k.a. small multiples</li>
<li>The <strong>themes layer</strong> modifies font, gridlines, and other “non-data ink” polish</li>
</ul>
<p><br></p>
<p>We’ll explore some key functions from these <strong>layers</strong> in the following sections.</p>
<p><br> <br></p>
</section>
</section>
<section id="download-the-practice-data" class="level2" data-number="24.6">
<h2 data-number="24.6" class="anchored" data-anchor-id="download-the-practice-data"><span class="header-section-number">24.6</span> Download the Practice Data</h2>
<p>Our practice data are public consruction project worker records in Syracuse, NY.</p>
<p>They were collected for a <a href="https://www.ujtf.org/reis"><strong>racial equity impact statement</strong></a> on hiring disparities.</p>
<p><br></p>
<p><strong>Download:</strong> You can download the practice data <a href="https://raw.githubusercontent.com/DS4PS/dp4ss-textbook/master/tables/hancock.csv"><strong>here</strong></a>.</p>
<p><br></p>
<p><strong>To Follow Along:</strong> Run this code in your R console:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"https://raw.githubusercontent.com/DS4PS/"</span>,</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>              <span class="st">"dp4ss-textbook/master/tables/hancock.csv"</span>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>hancock <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(url)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(url)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/reis_syracuse.jpg" class="img-fluid figure-img" style="width:90.0%"></p>
<figcaption>The impact statement uses ggplot2 for the majority if its viz (p.&nbsp;95).</figcaption>
</figure>
</div>
</div>
</div>
<p><br> <br></p>
</section>
<section id="package-ggplot2" class="level2" data-number="24.7">
<h2 data-number="24.7" class="anchored" data-anchor-id="package-ggplot2"><span class="header-section-number">24.7</span> Package “ggplot2”</h2>
<p>Package “ggplot2” is a popular, powerful package for data visualization in R.</p>
<ul>
<li>Authored by Hadley Wickham; maintained by RStudio</li>
<li>An implementation of the “Grammar of Graphics” framework (hence “gg”)</li>
<li>Has a series of function families, each corresponding to a different <strong>layer</strong></li>
</ul>
<p>Expressions in “ggplot2” use a particular syntax. Note that <code>+</code> connects the <strong>layers</strong>.</p>
<p><br></p>
<p>Let’s look at a “complete” graph:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hancock) <span class="sc">+</span>      <span class="co"># Data layer</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> net) <span class="sc">+</span>              <span class="co"># Aesthetics layer</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()            <span class="co"># Geometry layer</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>Note that the preferred “ggplot2” format is as follows (both do the same thing):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hancock,</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> net)) <span class="sc">+</span>        <span class="co"># "aes()" is nested in "ggplot()"</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p><strong>Let’s break it down.</strong> Here are the three layers of a “ggplot2” graphic and how they work:</p>
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figures/ggplot2_recipe.jpg" class="img-fluid figure-img" style="width:90.0%"></p>
<figcaption>Breaking down a “complete” graphic.</figcaption>
</figure>
</div>
</div>
</div>
<p><br> <br></p>
<div class="quiz">
<p><br></p>
<p>YOUR TURN: A BASIC GGPLOT</p>
<p><br></p>
<ol type="1">
<li>Load the necessary packages with <code>library()</code></li>
<li>Call <code>ggplot()</code> on the <code>economics</code> dataset from ggplot2</li>
<li>In <code>aes()</code>, map <strong>x =</strong> to <code>date</code> and <strong>y =</strong> to <code>unemploy</code></li>
<li>Call <code>geom_line()</code></li>
</ol>
<p><br></p>
<p>A call to <code>theme_classic()</code> has been added for panache.</p>
<p><br></p>
</div>
<p><br></p>
<div class="cell" data-ex="example-02" type="sample-code" data-tut="true">
<p>dc_light_exercise_example-02</p>
</div>
<p><br> <br></p>
<p><strong>Adding Aesthetics:</strong> Let’s plot the same data, except with:</p>
<ul>
<li><code>aes()</code> argument <strong>x =</strong> mapped to <code>net</code></li>
<li><code>aes()</code> argument <strong>y =</strong> mapped to <code>gross</code></li>
<li><code>geom_histogram()</code> changed to <code>geom_point()</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hancock,</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> net,</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> gross)) <span class="sc">+</span>    <span class="co"># Now mapping "gross" to y-axis</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()              <span class="co"># Changed from geom_histogram()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><strong>Modifying Attributes:</strong> We can change attributes (non-data ink) in the <code>geom_*()</code> call.</p>
<ul>
<li>Modify transparency with argument <strong>alpha =</strong></li>
<li>Modify color and fill with <strong>color =</strong> and <strong>fill =</strong>, respectively</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hancock,</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> net,</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> gross)) <span class="sc">+</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.35</span>,        <span class="co"># Modify transparency between 0 &amp; 1</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"tomato"</span>)    <span class="co"># Modify color; some colors are known</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><strong>Modify Labels:</strong> We can add function <code>labs()</code> with <code>+</code> to modify labels and titles:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hancock,</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> net,</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> gross)) <span class="sc">+</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.35</span>,</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"tomato"</span>) <span class="sc">+</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Weekly gross v. net incomes in public construction"</span>,</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Hancock Airport, 2018"</span>,</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Net Earnings"</span>,</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Gross Earnings"</span>,</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Source: Syracuse Regional Airport Authority"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><strong>Premade Themes:</strong> Add premade themes with <code>+</code> and <code>theme_</code> functions:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hancock,</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> net,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> gross)) <span class="sc">+</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.35</span>,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"tomato"</span>) <span class="sc">+</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Weekly gross v. net by public construction workers"</span>,</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Hancock Airport, 2018"</span>,</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Net Earnings"</span>,</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Gross Earnings"</span>,</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Source: Syracuse Regional Airport Authority"</span>) <span class="sc">+</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()                                                   <span class="co"># New theme</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><strong>Conclusions:</strong> In package “ggplot2”, we build on these three essential <strong>layers</strong>.</p>
<ul>
<li>The <strong>data</strong> layer, the <strong>aesthetics</strong> layer, and the <strong>geometry</strong> layer</li>
<li>Call data, aesthetics, and geometry in <code>ggplot()</code>, <code>aes()</code>, and <code>geom*()</code> functions</li>
<li>Once you’ve build an initial plot, you can add new layers to enhance it, like <strong>themes</strong></li>
<li>Each addition makes plots more decodable and better emphasizes big ideas</li>
</ul>
<p><br> <br></p>
<div class="quiz">
<p><br></p>
<p>YOUR TURN: AESTHETICS &amp; ATTRIBUTES</p>
<p><br></p>
<p>A basic ggplot has been prepared for you.</p>
<p>Load the necessary packages with <code>library()</code>.</p>
<p><br></p>
<p>Modify <code>geom_point()</code> with the following:</p>
<ul>
<li>Set size to 2.75 (<strong>size =</strong>)</li>
<li>Set transparency to 0.15 (<strong>alpha =</strong>)</li>
<li>Set color to “darkslateblue” (<strong>color = </strong>)</li>
</ul>
<p><br></p>
<p>A <code>theme_minimal()</code> is provided for panache.</p>
<p><br></p>
</div>
<p><br></p>
<div class="cell" data-ex="example-03" type="sample-code" data-tut="true">
<p>dc_light_exercise_example-03</p>
</div>
<p><br> <br></p>
</section>
<section id="notable-layer-functions" class="level2" data-number="24.8">
<h2 data-number="24.8" class="anchored" data-anchor-id="notable-layer-functions"><span class="header-section-number">24.8</span> Notable Layer Functions</h2>
<p>Each layer in “ggplot2” has an <em>astounding</em> number of functions. Let’s check some out.</p>
<p><br> <br></p>
<section id="the-aesthetics-layer-1" class="level3" data-number="24.8.1">
<h3 data-number="24.8.1" class="anchored" data-anchor-id="the-aesthetics-layer-1"><span class="header-section-number">24.8.1</span> The Aesthetics Layer</h3>
<p>We’ve seen the principal function of the <strong>aesthetics layer</strong>, <code>aes()</code>.</p>
<p>Most importantly, you should <em>some</em> arguments to which you can map variables:</p>
<ul>
<li><strong>x =</strong> maps to the x-axis</li>
<li><strong>y =</strong> maps to the y-axis</li>
<li><strong>z =</strong> maps to the z-axis (3-dimensional, typically)</li>
<li><strong>color =</strong> maps to colors of points and lines</li>
<li><strong>fill =</strong> maps to colors of shapes, e.g.&nbsp;bars</li>
<li><strong>size =</strong> maps to the size of points</li>
<li><strong>labels =</strong> maps to the labels of points, lines, and shapes</li>
<li><strong>width =</strong> maps to the width of lines</li>
<li><strong>type =</strong> maps to the line type</li>
</ul>
<p>Read more about aesthetics in the <a href="https://cran.r-project.org/web/packages/ggplot2/vignettes/ggplot2-specs.html">“ggplot2” vignette</a>.</p>
<p><br></p>
<p>Take the following scatter plot of U.S. unemployed against total population since 1970:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> economics, </span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> unemploy,</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> pop)) <span class="sc">+</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>We can convey additional information by mapping aesthetics to other variables.</p>
<p>The following maps point size to <code>psavert</code>, or the personal savings rate.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> economics, </span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> unemploy,</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> pop,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">size =</span> psavert)) <span class="sc">+</span>     <span class="co"># Map personal savings rate to size</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span>       <span class="co"># Set transparency to 20%</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We can see that regardless of unemployment, savings dwindle as populations grow.</p>
<p>(Population, by the way, is practically interchangeable with date).</p>
<p><br> <br></p>
<div class="warning">
<p>CAUTION: OVERPLOTTING &amp; OVERMAPPING</p>
<p><br></p>
<p>It’s tempting to map many variables to different aesthetics, so be careful to not:</p>
<ul>
<li>“Overplot”, or obfuscate clarity with too many mappings</li>
<li>“Overmapping”, or mapping a variable to two or more aesthetics</li>
</ul>
<p><br></p>
<p>For example, don’t map “population”, e.g.&nbsp;to both color and the y-axis.</p>
<ul>
<li>As datapoints move upward on the y-axis, the color changes</li>
<li>It <em>may</em> make your plot pretty, but it makes it harder to decode</li>
<li>What’s more, color is redundant and pointless - axes are more decodable</li>
<li>In effect, this is known in data visualization as “belt-and-suspenders design”</li>
</ul>
<p><br></p>
<p>Belts or suspenders… you don’t need both!</p>
</div>
<p><br> <br></p>
</section>
<section id="the-geometry-layer-1" class="level3" data-number="24.8.2">
<h3 data-number="24.8.2" class="anchored" data-anchor-id="the-geometry-layer-1"><span class="header-section-number">24.8.2</span> The Geometry Layer</h3>
<p>Each shape your data takes in the <strong>geometry layer</strong> has an associated function.</p>
<ul>
<li>View all geometries on the <a href="https://ggplot2.tidyverse.org/reference/">“ggplot2” reference page</a></li>
<li>Notably, every geometry function begins with <code>geom_</code></li>
<li>Some statistical functions have equivalents that begin with <code>stat_</code></li>
<li>You can combine more than one geom function in a singple visual</li>
</ul>
<p><br></p>
<p><strong>Rectangular Geoms:</strong> When using geoms with rectangular shapes, set <strong>stat =</strong> to “identity”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)                       <span class="co"># Disable scientific notation</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hancock, </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(ethnicity, <span class="sc">-</span>net),    <span class="co"># Reorder ethnicities by "net" </span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> net)) <span class="sc">+</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span>             <span class="co"># Specify stat = "identity"</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Weekly Net"</span>) <span class="sc">+</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><strong>Use Fill to Modify Geoms:</strong> Map <code>aes()</code> argument <strong>fill =</strong> to a categorical variable:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hancock, </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(ethnicity, <span class="sc">-</span>net), </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> net,</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> <span class="fu">reorder</span>(class, <span class="sc">-</span>net))) <span class="sc">+</span>  <span class="co"># Add fill = and reorder() on "net"</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Weekly Net"</span>,</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Class"</span>) <span class="sc">+</span>                    <span class="co"># Use labs() and fill= to title legend</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><strong>Fill to 100%:</strong> With a <strong>fill =</strong> asthetic, set <strong>position =</strong> to “fill”:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hancock, </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(ethnicity, <span class="sc">-</span>net), </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> net,</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> <span class="fu">reorder</span>(class, <span class="sc">-</span>net))) <span class="sc">+</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>,</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span>             <span class="co"># Set position = to "fill"</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Weekly Net"</span>,</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Class"</span>) <span class="sc">+</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><strong>New Geoms with New Positions:</strong> With a <strong>fill =</strong> asthetic, set <strong>position =</strong> to “dodge”:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hancock, </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(ethnicity, <span class="sc">-</span>net), </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> net,</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> <span class="fu">reorder</span>(class, <span class="sc">-</span>net))) <span class="sc">+</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>,</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span>            <span class="co"># Set position = to "dodge"</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Weekly Net"</span>,</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Class"</span>) <span class="sc">+</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><strong>Overlapping Barplots:</strong> Set <strong>position =</strong> to <code>position_dodge()</code> and set <strong>width =</strong>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hancock, </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(ethnicity, <span class="sc">-</span>net), </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> net,</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> <span class="fu">reorder</span>(class, <span class="sc">-</span>net))) <span class="sc">+</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>,</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.5</span>)) <span class="sc">+</span>            <span class="co"># Control the dodge!</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Weekly Net"</span>,</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Class"</span>) <span class="sc">+</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br> <br></p>
<div class="note">
<p>FUN FACT</p>
<p>Many ggplot2 color functions contain <code>brewer</code> in the name. That’s because, by default, ggplot2 uses color palettes based on the research of <a href="https://en.wikipedia.org/wiki/Cynthia_Brewer">Dr.&nbsp;Cynthia Brewer</a>.</p>
<p>Dr.&nbsp;Brewer’s premade palettes, all recognized in ggplot2, are available in <a href="http://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=3">Color Brewer 2</a>.</p>
</div>
<p><br> <br></p>
<p><strong>Overlap &amp; Transparency:</strong> When multiple points overlap, use transparency (<strong>alpha =</strong>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hancock, </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(ethnicity, <span class="sc">-</span>net), </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> net)) <span class="sc">+</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.10</span>) <span class="sc">+</span>          <span class="co"># Set transparency to 10%</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Weekly Net"</span>) <span class="sc">+</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br> <br></p>
<p><strong>Overlapping &amp; Jittering:</strong> In combination with transparency, you can “jitter” your points.</p>
<ul>
<li>“Jittering” adds random horizontal and vertical noise to break up points</li>
<li>In function <code>geom_point()</code>, set <strong>position =</strong> to “jitter”</li>
<li>Arguments <strong>height =</strong> and <strong>width =</strong> controls jitter</li>
<li>Alternatively, use function <code>geom_jitter()</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hancock, </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(ethnicity, <span class="sc">-</span>net), </span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> net)) <span class="sc">+</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.15</span>,           <span class="co"># Change geom to geom_jitter()</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">width =</span> <span class="fl">0.25</span>) <span class="sc">+</span>         <span class="co"># Set "jitter" width to 0.25</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Weekly Net"</span>) <span class="sc">+</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br> <br></p>
<div class="quiz">
<p><br></p>
<p>YOUR TURN: JITTER &amp; TRANSPARENCY</p>
<p><br></p>
<p>Load the necessary packages with <code>library()</code>.</p>
<p>Then, call <code>ggplot()</code> on the <code>midwest</code> dataset from ggplot2.</p>
<p><br></p>
<ol type="1">
<li>Change <code>geom_point()</code> to <code>geom_jitter()</code></li>
<li>In <code>geom_jitter()</code>, set argument alpha = 0.25</li>
<li>Also in the geom, set argument width = 0.15</li>
</ol>
<p><br></p>
</div>
<p><br></p>
<div class="cell" data-ex="example-04" type="sample-code" data-tut="true">
<p>dc_light_exercise_example-04</p>
</div>
<p><br> <br></p>
</section>
<section id="the-statistics-layer" class="level3" data-number="24.8.3">
<h3 data-number="24.8.3" class="anchored" data-anchor-id="the-statistics-layer"><span class="header-section-number">24.8.3</span> The Statistics Layer</h3>
<p>The <strong>statistics layer</strong> is where data undergo statistical transformations under the hood.</p>
<ul>
<li>All stat layer functions begin with <code>stat_</code></li>
<li>Many geometries already use stats, like <code>geom_smooth()</code></li>
<li>Argument <strong>method =</strong> can use different models with “lm”, “glm”, “rlm”, etc.</li>
<li>Stat functions typically not called directly, but run within geom functions</li>
</ul>
<p><br></p>
<p><strong>Smoothers:</strong> Function <code>stat_smooth()</code> adds a LOESS line and standard error area.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(hancock, </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> net,</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> gross)) <span class="sc">+</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_smooth</span>() <span class="sc">+</span>                 <span class="co"># Function stat-smooth(), same as geom_smooth()</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><strong>Remove Standard Error:</strong> Set argument <strong>se =</strong> to FALSE to disable standard error.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(hancock, </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> net,</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> gross)) <span class="sc">+</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span>       <span class="co"># Argument se = controls standard error</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><strong>Chane Modeling Method:</strong> Set argument <strong>method =</strong> to “lm” for linear models, etc.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(hancock, </span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> net,</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> gross)) <span class="sc">+</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>,</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span>    <span class="co"># Argument method = changes your model</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br> <br></p>
</section>
<section id="the-coordinates-layer-planes" class="level3" data-number="24.8.4">
<h3 data-number="24.8.4" class="anchored" data-anchor-id="the-coordinates-layer-planes"><span class="header-section-number">24.8.4</span> The Coordinates Layer: Planes</h3>
<p>The <strong>coordinates layer</strong> ultimately controls the limits and labels of your axes.</p>
<ul>
<li>All <strong>coordinates</strong> functions begin with <code>coord_</code></li>
<li>Most common is <code>coord_cartesian()</code>, which modifies a plot’s Cartesian plane</li>
</ul>
<p><br></p>
<p><strong>Flipping Coordinates!</strong> No, we’re not cursing out <strong>coordinates</strong>.</p>
<p>However, you can reverse the x- and y-axes by using function <code>coord_flip()</code>:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)                 <span class="co"># Disable scientific notation</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> hancock, </span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(ethnicity, net), </span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> net)) <span class="sc">+</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Flipped!"</span>,</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Weekly Net"</span>) <span class="sc">+</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()                        <span class="co"># coord_flip() !</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-46-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br> <br></p>
<p><strong>Zooming or Filtering:</strong> Modifying coordinates typically goes one of two ways:</p>
<ul>
<li>Zoom in on some specified coordinates</li>
<li>Zoom in <em>and filter out</em> data that are no longer visible</li>
</ul>
<p><em>Zoom</em> with <code>coord_cartesian()</code>.</p>
<p><em>Filter</em> with <code>lims()</code>.</p>
<p><br></p>
<p><strong>The Whole Plot (Before):</strong> Observe the entirety of the plot without zooming in:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(hancock,</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> net,</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> gross)) <span class="sc">+</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-47-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><strong>Zoomed In:</strong> We can zoom, without affecting our data, with <code>coordcartesion()</code>.</p>
<p>Note the direction and standard error of the LOESS line from <code>geom_smooth()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(hancock,</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> net,</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> gross)) <span class="sc">+</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1250</span>), </span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>                  <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2000</span>))    <span class="co"># Zoom in and keep your data!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-48-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><strong>Filtered:</strong> We can use <code>lims()</code> to zoom in <em>and filter</em> data no longer plotted.</p>
<p>Now note how the LOESS line and standard error have changed per this “new” dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(hancock,</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> net,</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> gross)) <span class="sc">+</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lims</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1250</span>), </span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2000</span>))                  <span class="co"># Zoom in and filter your data!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-49-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br> <br></p>
<div class="question">
<p>QUESTION</p>
<p>Why do the LOESS curves and standard errors change between plots?</p>
</div>
<p><br> <br></p>
</section>
<section id="the-coordinates-layer-scales" class="level3" data-number="24.8.5">
<h3 data-number="24.8.5" class="anchored" data-anchor-id="the-coordinates-layer-scales"><span class="header-section-number">24.8.5</span> The Coordinates Layer: Scales</h3>
<p><strong>Scales</strong> in “ggplot2” affect your axis gridlines, ticks, breaks, and labels.</p>
<ul>
<li>Scale functions begin with <code>scale_</code></li>
<li>Specify which axis with <code>scale_x_</code> or <code>scale_y_</code></li>
<li>Also specify <code>discrete</code>, <code>continuous</code>, or another variable type</li>
<li>Example: A discrete (categorical) variable on the y-axis is <code>scale_y_discrete()</code></li>
</ul>
<p><br></p>
<p><strong>Axis Titles:</strong> Change (or remove) axis titles with argument <strong>name =</strong>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(hancock,</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> net,</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> gross)) <span class="sc">+</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.05</span>) <span class="sc">+</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">color =</span> <span class="st">"grey80"</span>, <span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">"Weekly Net"</span>) <span class="sc">+</span>     <span class="co"># Axis? Continuous or discrete?</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Weekly Gross"</span>)     <span class="co"># Argument name = for axis titles</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-50-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><strong>Breaks:</strong> Specify axes’ major label and tick marks with argument <strong>breaks =</strong> and <code>c()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(hancock,</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> net,</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> gross)) <span class="sc">+</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.05</span>) <span class="sc">+</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">color =</span> <span class="st">"grey80"</span>, <span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">"Weekly Net"</span>,</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1250</span>, <span class="dv">2500</span>)) <span class="sc">+</span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Weekly Gross"</span>,</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1500</span>, <span class="dv">3000</span>))           <span class="co"># Even breaks</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-51-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><strong>Labels:</strong> Customize individual labels with argument <strong>labels =</strong> (<em>ojo</em> - can get lengthy):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(hancock,</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> net,</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> gross)) <span class="sc">+</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.05</span>) <span class="sc">+</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">color =</span> <span class="st">"grey80"</span>, <span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">"Net"</span>,</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1250</span>, <span class="dv">2500</span>),</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"$ 0"</span>, <span class="st">"1.25"</span>, <span class="st">"2.5 K"</span>)) <span class="sc">+</span></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Gross"</span>,</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1500</span>, <span class="dv">3000</span>),</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"$ 0"</span>, <span class="st">"1.5"</span>, <span class="st">"3 K"</span>))     <span class="co"># Labels in quotes</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-52-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br> <br></p>
<p><strong>Pretty Breaks:</strong> Package “scales” allows us to more easily format <code>scale_*()</code> functions.</p>
<ul>
<li>Format breaks automatically (pretty-like)</li>
<li>Label dollar amounts and percentages with ease</li>
</ul>
<p><br></p>
<p><strong>Pretty Names:</strong> With “scales”, argument <strong>name =</strong> accepts new standards:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(hancock,</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> net,</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> gross)) <span class="sc">+</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.05</span>) <span class="sc">+</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">color =</span> <span class="st">"grey80"</span>, <span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">"Net"</span>,</span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1250</span>, <span class="dv">2500</span>),</span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> dollar) <span class="sc">+</span>                   <span class="co"># Auto-labeling: Good</span></span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Gross"</span>,</span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1500</span>, <span class="dv">3000</span>),</span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> dollar)                     <span class="co"># Less flexibility: Bad</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-53-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><strong>Pretty Breaks:</strong> With “scales”, argument <strong>breaks =</strong> accepts <code>pretty_breaks()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(hancock,</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> net,</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> gross)) <span class="sc">+</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.05</span>) <span class="sc">+</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">color =</span> <span class="st">"grey80"</span>, <span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">"Net"</span>,</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">pretty_breaks</span>(<span class="dv">5</span>),</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> dollar) <span class="sc">+</span>                   <span class="co"># pretty_breaks() !</span></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Gross"</span>,</span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">pretty_breaks</span>(<span class="dv">12</span>),</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> dollar)                     <span class="co"># Pretty sick</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-54-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br> <br></p>
<div class="tip">
<p>PRO TIP: PACKAGE “SCALES” APPLICATIONS</p>
<p>The “scales” package has a host of amazing formatting functions. Commonly:</p>
<ul>
<li><code>dollar()</code> and <code>dollar_format()</code> for currency</li>
<li><code>percent()</code> and <code>percent format()</code> for percents</li>
<li><code>number()</code> and <code>number_format()</code> for numbers</li>
</ul>
<p>These and <a href="https://cran.r-project.org/web/packages/scales/scales.pdf">other functions</a> are incredibly useful, especially for cleaning.</p>
</div>
<p><br> <br></p>
<div class="quiz">
<p><br></p>
<p>YOUR TURN: STATS, COORDINATES, AND SCALES</p>
<p><br></p>
<p>Load the necessary packages with <code>library()</code>.</p>
<p><br></p>
<ol type="1">
<li>In <code>geom_point()</code>, set “alpha = 0.3”</li>
<li>Add <code>geom_smooth()</code> with <code>+</code></li>
<li>Add <code>lims()</code> with:
<ul>
<li><em>x =</em> <code>c(0, 10000)</code></li>
<li><em>y =</em> <code>c(0, 50)</code></li>
</ul></li>
<li>In <code>scale_x_continuous()</code>, add “label = name”</li>
<li>Add <code>labs()</code> with:
<ul>
<li><em>x =</em> “Population Density”</li>
<li><em>y =</em> “College Educated (%)”</li>
</ul></li>
</ol>
<p><br></p>
</div>
<p><br></p>
<div class="cell" data-ex="example-05" type="sample-code" data-tut="true">
<p>dc_light_exercise_example-05</p>
</div>
<p><br> <br></p>
</section>
<section id="the-faceting-layer" class="level3" data-number="24.8.6">
<h3 data-number="24.8.6" class="anchored" data-anchor-id="the-faceting-layer"><span class="header-section-number">24.8.6</span> The Faceting Layer</h3>
<p>The <strong>faceting layer</strong> allows us to create <strong>facets</strong>, a.k.a <a href="https://en.wikipedia.org/wiki/Small_multiple">small multiples</a> or trellis charts.</p>
<ul>
<li>All <strong>faceting</strong> functions begin with <code>facet_</code></li>
<li><code>facet_wrap()</code> creates a grid; <code>facet_grid()</code> creates side-by-sides</li>
<li>There are other arguments, but the formula <code>x ~ y</code> (variables), is critical</li>
</ul>
<p><br></p>
<p><strong>Single-Variable Faceting:</strong> The formula <code>x ~ y</code> needs only one side.</p>
<p>You can replace the empty side with <code>.</code> or leave it blank.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(hancock,</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> net,</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> gross)) <span class="sc">+</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>,</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">"Net"</span>,</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">pretty_breaks</span>(<span class="dv">3</span>),</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> dollar) <span class="sc">+</span></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Gross"</span>,</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">pretty_breaks</span>(<span class="dv">3</span>),</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> dollar) <span class="sc">+</span></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="at">facets =</span> ethnicity <span class="sc">~</span> .)                     <span class="co"># Only one side needed</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-56-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><strong>Facet Grid:</strong> When you want side-by-side comparisons for all plots, use <code>facet_grid()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(hancock,</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> net,</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> gross)) <span class="sc">+</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>,</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">"Net"</span>,</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">pretty_breaks</span>(<span class="dv">3</span>),</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> dollar) <span class="sc">+</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Gross"</span>,</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">pretty_breaks</span>(<span class="dv">3</span>),</span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> dollar) <span class="sc">+</span></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="at">facets =</span> . <span class="sc">~</span> ethnicity, )                     <span class="co"># Now with facet_grid() !</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-57-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><strong>Modify</strong> <code>facet_*()</code> functions with arguments beyond the <code>x ~ y</code> formula.</p>
<ul>
<li><strong>rows =</strong> accepts the number of rows in a facet grid</li>
<li><strong>cols =</strong> accepts the number of columns</li>
<li><strong>labeller =</strong> accepts new strip names</li>
</ul>
<p><br> <br></p>
<div class="quiz">
<p><br></p>
<p>YOUR TURN: FACETING</p>
<p><br></p>
<p>Unfortunately, the R widget cannot visualize faceting (yet).</p>
<p>Open a new RStudio script. Copy and paste the below code.</p>
<p>Use a <code>facet_*()</code> function on variable <code>cut</code>.</p>
<p><br></p>
</div>
<p><br></p>
<div class="cell" data-ex="example-06" type="sample-code" data-tut="true">
<p>dc_light_exercise_example-06</p>
</div>
<p><br> <br></p>
</section>
<section id="the-themes-layer" class="level3" data-number="24.8.7">
<h3 data-number="24.8.7" class="anchored" data-anchor-id="the-themes-layer"><span class="header-section-number">24.8.7</span> The Themes Layer</h3>
<p>The <strong>themes layer</strong> allows you to customize ever pixel of non-data ink in your plot.</p>
<ul>
<li>Function <code>themes()</code> is the workhorse function for this layer</li>
<li><code>themes()</code> arguments are a large but consistent framework</li>
<li>Functions beginning with <code>theme_</code> set premade themes</li>
<li>The <strong>themes layer</strong> <em>adjusts every non-data pixel</em></li>
</ul>
<p><br></p>
<p>Everything we’ve done so far, plus changing the facet strip labels:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(hancock,</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> net,</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> gross)) <span class="sc">+</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>,</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"grey30"</span>) <span class="sc">+</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>,</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">"Net"</span>,</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">pretty_breaks</span>(<span class="dv">3</span>),</span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> dollar) <span class="sc">+</span></span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Gross"</span>,</span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">pretty_breaks</span>(<span class="dv">3</span>),</span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> dollar) <span class="sc">+</span></span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="at">facets =</span> . <span class="sc">~</span> ethnicity) <span class="sc">+</span></span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>,</span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">color =</span> <span class="st">"grey40"</span>,</span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">family =</span> <span class="st">"Verdana"</span>))   <span class="co"># The framework in action</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-59-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><strong>So what the hell was that?</strong> <em>There’s a whole consistent framework here!</em></p>
<p>There’s a few hierarchies of functions and arguments that we’ll look at below.</p>
<p>We’ve saved the above plot in object <code>p</code>, which we’ll use herein.</p>
<p><br></p>
<p><strong>First Entering <code>theme()</code>:</strong> You’ll get hit with four short arguments:</p>
<ol type="1">
<li><strong>line =</strong> modifies all lines in the plot</li>
<li><strong>rect =</strong> modifies all rectangles in the plot</li>
<li><strong>text =</strong> modifies all text in the plot</li>
<li><strong>title =</strong> modifies just titles in the plot</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">text =</span> ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p><strong>Latter Arguments in <code>theme()</code>:</strong> More specific <em>argument families</em> for each element.</p>
<ul>
<li><strong>axis</strong> arguments for axis lines, ticks, and text</li>
<li><strong>legend</strong> arguments for boxes, keys, spacing, text, and titles</li>
<li><strong>panel</strong> arguments for overall plot spacing and grid lines</li>
<li><strong>plot</strong> arguments for tags, titles, and margins</li>
<li><strong>strip</strong> arguments for facet strip text and backgrounds</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.title =</span> ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p><strong>Once Argument is Selected:</strong> Arguments typically accept <strong>theme element</strong> functions:</p>
<ul>
<li>All <strong>element functions</strong> begin with <code>element_</code></li>
<li><code>element_rect()</code> applies to rectangles</li>
<li><code>element_line()</code> applies to lines</li>
<li><code>element_text()</code> applies to text</li>
<li><code>element_blank()</code> removes it</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"gray50"</span>,</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">face =</span> <span class="st">"bold"</span>,</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">size =</span> <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-63-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br> <br></p>
<div class="quiz">
<p><br></p>
<p>YOUR TURN: CUSTOMIZING TITLE THEMES</p>
<p><br></p>
<p>Load package scales to help format our scales. In <code>themes()</code>:</p>
<ul>
<li>Change argument ‘x =’ in <code>labs()</code> to “Year”</li>
<li>Format the plot’s axes title color to “grey20”</li>
<li>Make the main title size 12 and “bold” face</li>
<li>Continue experimenting with modifications</li>
</ul>
<p><br></p>
</div>
<p><br></p>
<div class="cell" data-ex="example-07" type="sample-code" data-tut="true">
<p>dc_light_exercise_example-07</p>
</div>
<p><br> <br></p>
</section>
</section>
<section id="interactive-charts-with-plotly" class="level2" data-number="24.9">
<h2 data-number="24.9" class="anchored" data-anchor-id="interactive-charts-with-plotly"><span class="header-section-number">24.9</span> Interactive Charts with “plotly”</h2>
<p>On a brief side note, you can make your “ggplot2” plots interactive with “plotly”.</p>
<p><br></p>
<p><strong>Saving “ggplot” Objects:</strong> You can save plots as objects with assignment, or <code>&lt;-</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(hancock,              <span class="co"># Modified plot assigned to "p" with &lt;-</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> net,</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> gross)) <span class="sc">+</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>,</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"grey30"</span>) <span class="sc">+</span></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>,</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">"Weekly Net"</span>,</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> dollar,</span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">pretty_breaks</span>(<span class="dv">3</span>)) <span class="sc">+</span></span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Weekly Gross"</span>,</span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> dollar,</span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">pretty_breaks</span>(<span class="dv">4</span>)) <span class="sc">+</span></span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="at">facets =</span> . <span class="sc">~</span> ethnicity)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p><strong>Plotlify!</strong> Once loaded, use function <code>ggplotly()</code> on your <strong>ggplot oject</strong>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)   </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p)       <span class="co"># Insert your ggplot object!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-a1fcd62a0dd1ba32e054" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-a1fcd62a0dd1ba32e054">{"x":{"data":[{"x":[1095.1300000000001,1176.97,493.13999999999999,1423.46,594.79999999999995,965.58000000000004,788.87,834.52999999999997,741.91999999999996,799.66999999999996,1152.73,828.78999999999996,800.32000000000005,1601.4000000000001,839.59000000000003,1176.98,788.87,582.35000000000002,1135.6199999999999,504.29000000000002,1152.73,505.23000000000002,714.36000000000001,954.16999999999996,464.37,1176.98,693.77999999999997,954.15999999999997,383.38999999999999,530.90999999999997,1104.29,693.77999999999997,1007.38,842.95000000000005,234,1176.6800000000001,166.74000000000001,834.10000000000002,230.05000000000001,598.25999999999999,798.90999999999997,527.75,765.47000000000003,681.87,782.19000000000005],"y":[1476.2,1548.8,686.07000000000005,1917.8499999999999,809.49000000000001,1234.2,1064.8,1185.8,1137.0999999999999,1064.8,1512.5,1124.7,1125.3,1702.48,1124.7,1548.8,1064.8,968.00999999999999,1446.28,1124.7,1512.5,735.67999999999995,1185.8,1264.45,1064.8,1548.8,1149.5,1264.45,465.85000000000002,1164.6300000000001,1439.9000000000001,1149.5,1344.3099999999999,1144.6600000000001,718.74000000000001,1548.8,232,1160,319,422.83999999999997,1230.0799999999999,724.25999999999999,1172.4200000000001,1028.28,1201.25],"text":["net: 1095.13<br />gross: 1476.20","net: 1176.97<br />gross: 1548.80","net:  493.14<br />gross:  686.07","net: 1423.46<br />gross: 1917.85","net:  594.80<br />gross:  809.49","net:  965.58<br />gross: 1234.20","net:  788.87<br />gross: 1064.80","net:  834.53<br />gross: 1185.80","net:  741.92<br />gross: 1137.10","net:  799.67<br />gross: 1064.80","net: 1152.73<br />gross: 1512.50","net:  828.79<br />gross: 1124.70","net:  800.32<br />gross: 1125.30","net: 1601.40<br />gross: 1702.48","net:  839.59<br />gross: 1124.70","net: 1176.98<br />gross: 1548.80","net:  788.87<br />gross: 1064.80","net:  582.35<br />gross:  968.01","net: 1135.62<br />gross: 1446.28","net:  504.29<br />gross: 1124.70","net: 1152.73<br />gross: 1512.50","net:  505.23<br />gross:  735.68","net:  714.36<br />gross: 1185.80","net:  954.17<br />gross: 1264.45","net:  464.37<br />gross: 1064.80","net: 1176.98<br />gross: 1548.80","net:  693.78<br />gross: 1149.50","net:  954.16<br />gross: 1264.45","net:  383.39<br />gross:  465.85","net:  530.91<br />gross: 1164.63","net: 1104.29<br />gross: 1439.90","net:  693.78<br />gross: 1149.50","net: 1007.38<br />gross: 1344.31","net:  842.95<br />gross: 1144.66","net:  234.00<br />gross:  718.74","net: 1176.68<br />gross: 1548.80","net:  166.74<br />gross:  232.00","net:  834.10<br />gross: 1160.00","net:  230.05<br />gross:  319.00","net:  598.26<br />gross:  422.84","net:  798.91<br />gross: 1230.08","net:  527.75<br />gross:  724.26","net:  765.47<br />gross: 1172.42","net:  681.87<br />gross: 1028.28","net:  782.19<br />gross: 1201.25"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(77,77,77,1)","opacity":0.5,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(77,77,77,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[483.14999999999998,483.14999999999998],"y":[1160,1160],"text":"net:  483.15<br />gross: 1160.00","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(77,77,77,1)","opacity":0.5,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(77,77,77,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"x":[283.18000000000001,819.39999999999998,751.07000000000005,593.44000000000005,664.88999999999999,348.08999999999997,586.52999999999997,654.90999999999997,541.42999999999995,654.89999999999998,684.37,199.90000000000001,857.88999999999999,459.31999999999999,1006.05,442.92000000000002,975.52999999999997,475.55000000000001,908.40999999999997,881.19000000000005,908.41999999999996],"y":[387.19999999999999,1258.4000000000001,1137.4000000000001,859.10000000000002,968,484,847,968,774.39999999999998,968,256.39999999999998,256.39999999999998,1282,198,512.79999999999995,396,0,660,1362,1160,1362],"text":["net:  283.18<br />gross:  387.20","net:  819.40<br />gross: 1258.40","net:  751.07<br />gross: 1137.40","net:  593.44<br />gross:  859.10","net:  664.89<br />gross:  968.00","net:  348.09<br />gross:  484.00","net:  586.53<br />gross:  847.00","net:  654.91<br />gross:  968.00","net:  541.43<br />gross:  774.40","net:  654.90<br />gross:  968.00","net:  684.37<br />gross:  256.40","net:  199.90<br />gross:  256.40","net:  857.89<br />gross: 1282.00","net:  459.32<br />gross:  198.00","net: 1006.05<br />gross:  512.80","net:  442.92<br />gross:  396.00","net:  975.53<br />gross:    0.00","net:  475.55<br />gross:  660.00","net:  908.41<br />gross: 1362.00","net:  881.19<br />gross: 1160.00","net:  908.42<br />gross: 1362.00"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(77,77,77,1)","opacity":0.5,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(77,77,77,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"x":[322.61000000000001,864.01999999999998,270.93000000000001,638.59000000000003,638.38999999999999,606.20000000000005,565.61000000000001,662.76999999999998,727.13999999999999,775.49000000000001,751.30999999999995,191.47,648.72000000000003,593.34000000000003],"y":[387.19999999999999,1161.5999999999999,381.00999999999999,822.79999999999995,822.79999999999995,774.39999999999998,713.89999999999998,859.10000000000002,955.89999999999998,1028.5,992.20000000000005,260.87,909.62,827.24000000000001],"text":["net:  322.61<br />gross:  387.20","net:  864.02<br />gross: 1161.60","net:  270.93<br />gross:  381.01","net:  638.59<br />gross:  822.80","net:  638.39<br />gross:  822.80","net:  606.20<br />gross:  774.40","net:  565.61<br />gross:  713.90","net:  662.77<br />gross:  859.10","net:  727.14<br />gross:  955.90","net:  775.49<br />gross: 1028.50","net:  751.31<br />gross:  992.20","net:  191.47<br />gross:  260.87","net:  648.72<br />gross:  909.62","net:  593.34<br />gross:  827.24"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(77,77,77,1)","opacity":0.5,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(77,77,77,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[824.86000000000001,1220.3199999999999,1781.8299999999999,893.27999999999997,1113.71,1141.0599999999999,1079.45,785.50999999999999,1243.5999999999999,1277.46,1142.53,1418.8699999999999,572.33000000000004,1739.8099999999999,186.21000000000001,311.04000000000002,816.32000000000005,627.75,401.94,1204.52,836.86000000000001,283.18000000000001,167.75,512.48000000000002,1125.99,1662.26,878.00999999999999,803.33000000000004,772.42999999999995,793.87,1104.05,692.85000000000002,1047.02,1164.6300000000001,1275.5599999999999,1990.4200000000001,1515.03,939.74000000000001,984.02999999999997,580.80999999999995,1002.8,1121.8699999999999,1404.4300000000001,1107.1099999999999,1054.21,1236.5599999999999,709.36000000000001,879.09000000000003,1392.98,1616.46,1665.46,1539.74,2071.7600000000002,1220.3199999999999,1736.76,1804.74,1730.96,1334,1331.3499999999999,1137.8800000000001,905.39999999999998,509.13999999999999,1202.48,1366.0999999999999,659.91999999999996,1301.46,1263.8299999999999,1522.8499999999999,865.96000000000004,812.44000000000005,880.32000000000005,866.42999999999995,1166.72,1700.26,916.65999999999997,1116.1600000000001,1285.3299999999999,1861.23,953.14999999999998,1268.3800000000001,870.65999999999997,1222.47,830.20000000000005,762.34000000000003,1154.8099999999999,1642.3199999999999,797.11000000000001,632.24000000000001,772.42999999999995,1536.45,1115.28,2478.4400000000001,668.86000000000001,1268.3699999999999,836.74000000000001,1375.4100000000001,991.08000000000004,991.22000000000003,991.07000000000005,1471.78,1142.54,991.07000000000005,1042.6800000000001,1620.8599999999999,1407.8800000000001,1205.5999999999999,918.42999999999995,1042.6900000000001,918.44000000000005,1588,1331.3499999999999,1789.8199999999999,710.53999999999996,905.17999999999995,1841.8299999999999,1534.24,1863.6500000000001,1730.9400000000001,1470.8900000000001,1745.8499999999999,1730.95,1004.88,1754.48,1834.2,1730.96,1534.23,1745.8299999999999,1730.9400000000001,1598.9300000000001,796.63999999999999,980.99000000000001,957.52999999999997,1104.3800000000001,768.88999999999999,339.12,689.37,1225.5,1393.48,1129.6400000000001,679.13999999999999,1682.21,1998.95,1004.63,1260.4200000000001,741.38,1144.46,490.44,894.92999999999995,1225.55,1205.45,837.85000000000002,613.37,1066.0899999999999,1058.02,1734.24,1062.98,689.85000000000002,794.47000000000003,857.42999999999995,942.78999999999996,892.59000000000003,772.42999999999995,487.11000000000001,777.69000000000005,1288.46,1062.3699999999999,831.33000000000004,668.55999999999995,833.36000000000001,1038.1199999999999,929.03999999999996,1205.5999999999999,785,1268.3800000000001,712.36000000000001,707.35000000000002,711.13,803.76999999999998,1121.8699999999999,693.36000000000001,642.41999999999996,775.21000000000004,749.15999999999997,957.54999999999995,96.439999999999998,913.55999999999995,591.54999999999995,1130.98,1095.98,1258.8199999999999,654.90999999999997,1055.5899999999999,757.64999999999998,727.51999999999998,541.42999999999995,845.88999999999999,683.63999999999999,678.63999999999999,704.01999999999998,776.41999999999996,1121.8800000000001,1644.3699999999999,1834.2,1730.96,830.14999999999998,1535.5799999999999,1284.5999999999999,1618.6300000000001,1512.8900000000001,1686.9300000000001,1188.04,1656.27,1691.55,1716.3800000000001,1730.95,1469.8399999999999,1802.79,1729.53,721.71000000000004,580.86000000000001,453.81,1564.45,1597.0599999999999,1729.54,635.99000000000001,1111.8699999999999,734.10000000000002,692.61000000000001,781.34000000000003,721.33000000000004,1034.6500000000001,739.27999999999997,1296.28,1226.5,967.35000000000002,613.87,1055.5799999999999,1237.27,572.88,761.45000000000005,918.42999999999995,757.65999999999997,780.77999999999997,754.17999999999995,984.92999999999995,776.41999999999996,1121.8699999999999,599.21000000000004,1210.5799999999999,658.01999999999998,877.29999999999995,615.77999999999997,813.50999999999999,869.37,627.75999999999999,339.02999999999997,721.34000000000003,1001.87,739.28999999999996,1394.23,696.41999999999996,1352.3299999999999,943.20000000000005,654.90999999999997,1031.3800000000001,1098.27,484.88,913.55999999999995,757.65999999999997,1063.2,795.39999999999998,797.52999999999997,888.27999999999997,757.64999999999998,797.51999999999998,965.07000000000005,689.24000000000001,797.71000000000004,776.42999999999995,1423.54,1121.8699999999999,913.44000000000005,458.24000000000001,916.02999999999997,754.65999999999997,692.61000000000001,814.98000000000002,1115.21,1221.3699999999999,1068.9400000000001,1291.1500000000001,1039.8399999999999,654.88999999999999,1079.8199999999999,1004.88,825.35000000000002,675.63,1111,727.51999999999998,901.64999999999998,737.62,441.08999999999997,963.29999999999995,899.82000000000005,1121.8900000000001,913.44000000000005,336.16000000000003,658.23000000000002,1220.48,775.21000000000004,813.50999999999999,847.34000000000003,772.44000000000005,769.71000000000004,451.70999999999998,1394.22,1181.5699999999999,1387.54,1015.6799999999999,654.89999999999998,1055.5899999999999,1354.3699999999999,551.92999999999995,336.16000000000003,1205.5999999999999,806.67999999999995,963.42999999999995,917.38,1102.97,660.94000000000005,345.47000000000003,682.42999999999995,1121.8699999999999,913.44000000000005,645.70000000000005,332.35000000000002,1000.42,713.57000000000005,813.50999999999999,825.34000000000003,627.75,938.98000000000002,932.86000000000001,470.77999999999997,682.41999999999996,1616.77,1163.5699999999999,1407.5,916.38999999999999,654.89999999999998,1152.0699999999999,1104.2,818.74000000000001,1070.8,589.60000000000002,946.32000000000005,602.83000000000004,983.73000000000002,847.20000000000005,716.01999999999998,678.63999999999999,723.47000000000003,725.60000000000002,1002.5,1121.46,935.29999999999995,1063.7,1063.77,1842.54,1637.1300000000001,942.63,1042.7,942.63,1670.1300000000001,1276.8499999999999,1141.9000000000001,918.42999999999995,1029.52,942.62,1733.9000000000001,769.94000000000005,656.10000000000002,872.41999999999996,672.00999999999999,542.22000000000003,946.58000000000004,904.48000000000002,1272.9200000000001,527.76999999999998,1252.76,565.48000000000002,830.14999999999998,890.57000000000005,672.79999999999995,1047.6099999999999,718.16999999999996,757.61000000000001,526.66999999999996,569.90999999999997,518.51999999999998,995.01999999999998,1275.55,881.02999999999997,1283.8,779.34000000000003,863.60000000000002,763.36000000000001,739.65999999999997,1142.9000000000001,1088.78,509.20999999999998,739.27999999999997,583.75999999999999,913.55999999999995,1311.73,660.38,1205.22,1482.5599999999999,870.75,1045.8399999999999,1651.46,825.41999999999996,699.82000000000005,722.95000000000005,934.20000000000005,825.34000000000003,989.25,502.29000000000002,938.98000000000002,597.59000000000003,547.40999999999997,772.44000000000005,1208.6300000000001,1321.5799999999999,1644.3299999999999,942.63999999999999,1603.9400000000001,683.90999999999997,175.66,400.10000000000002,102,347.19,380.37,400.10000000000002,292.98000000000002,867.98000000000002,287.95999999999998,188.09999999999999,1000.27,390.63,867.98000000000002,91,1000.27,488.30000000000001,172.40000000000001,600.16999999999996,195.31999999999999,614.78999999999996,1419.05,678.30999999999995,1496.4300000000001,1197.49,963.92999999999995,1231.99,465.07999999999998,1125.26,1246.96,730.54999999999995,1717.6500000000001,807.09000000000003,1572.3199999999999,1444.52,1444.6700000000001,516.25,1147.6900000000001,576.83000000000004,1387.79,1071.71,1072.3800000000001,536.10000000000002,1006.09,553.71000000000004,1286.27,990.37,963.54999999999995,1117.55,555.94000000000005,1343.4100000000001,727.85000000000002,1404.6500000000001,1103.5799999999999,1079.5899999999999,492.44999999999999,1279.0799999999999,588.38999999999999,1165.78,1055.4400000000001,1110.03,606.75999999999999,1219.8299999999999,588.38999999999999,1303.1900000000001,990.37,1095.1300000000001,634.09000000000003,1141.4000000000001,708.01999999999998,1337.03,906.65999999999997,1197.49,978.94000000000005,370.20999999999998,1416.3399999999999,646.16999999999996,1303.1900000000001,1039.1800000000001,1155.49,810.58000000000004,749.34000000000003,832.36000000000001,894.39999999999998,1096.54,1607.28,1031.71,1175.55,1328.1199999999999,609.51999999999998,714,951.86000000000001,879.24000000000001,1240.52,1186.4000000000001,1147.22,1028.8900000000001,1195.79,1076.52,1102.23,1054.9300000000001,991.70000000000005,1102.24,1026.6700000000001,677.65999999999997,1076.52,1131.5599999999999,1054.9400000000001,902.65999999999997,1037.3599999999999,1246.1500000000001,1000.61,1287.3399999999999,609.67999999999995,911.77999999999997,842.25999999999999,1052.46,1246.1500000000001,1000.6,1175.54,1125.6400000000001,1243.9100000000001,878.25,560.10000000000002,888.97000000000003,828.87,937.04999999999995,1052.46,1246.1400000000001,1141.3499999999999,1000.61,1299.8299999999999,1267.98,871.21000000000004,699.85000000000002,955.96000000000004,1463.6400000000001,1260.24,797,1204.6800000000001,1204.8299999999999,1267.97,1219.8499999999999,925.70000000000005,1229.76,1246.1500000000001,1064.78,590.74000000000001,1043.4200000000001,1274.8499999999999,1195.78,1219.8499999999999,833.63999999999999,0,0,0,647.01999999999998,680.69000000000005,0,0,0,510.56,533.25,827.66999999999996,735.15999999999997,272.33999999999997,913.84000000000003,848.53999999999996,827.66999999999996,735.14999999999998,913.84000000000003,848.53999999999996,781.64999999999998],"y":[1163.2,1487.3199999999999,704.13,1413.6900000000001,1315.5999999999999,810.48000000000002,1694.6400000000001,1182.2,1512.9400000000001,147.36000000000001,902.58000000000004,1710.29,405.24000000000001,723.58000000000004,232.63999999999999,411.45999999999998,1222.0999999999999,878.39999999999998,532.39999999999998,1633.28,488.30000000000001,387.19999999999999,232.63999999999999,713.89999999999998,1616.45,2468.2800000000002,1331,1229.8,1098,1076.9000000000001,1585.0999999999999,748.29999999999995,1386.24,1675.8499999999999,1413.6900000000001,3065.1500000000001,2468.2800000000002,1413.5,1548.8,847.32000000000005,1548.8,1616.45,1108.6400000000001,1504.3800000000001,1420.4000000000001,1705.5999999999999,878.39999999999998,1160,1970.8199999999999,2345.1999999999998,2292.8299999999999,2325.9200000000001,2473.1199999999999,512.62,2510.3299999999999,2752.04,2345.1999999999998,581.40999999999997,873.62,1420.55,624.64999999999998,727.42999999999995,1978.28,1472.8800000000001,528.61000000000001,859.10000000000002,892.13,1002.88,943.79999999999995,1523.48,1273.3299999999999,1345.0599999999999,1913.3,2895.2199999999998,1509.78,1603.25,1907.79,2832.0700000000002,1494.3499999999999,2026.2,1859.74,1854.73,1283.3,1078.8,1891.6400000000001,2786.9200000000001,1125.45,899.33000000000004,1098,2335.3000000000002,1633.29,2300.6300000000001,992.20000000000005,2026.2,1797.99,1970.9400000000001,1367.3,1490.5999999999999,1367.3,2136.7199999999998,405.24000000000001,1367.3,1567.7,2056.6399999999999,2026.2,921,1064.8,1567.7,1064.8,2006.3,1342.9200000000001,3061.2800000000002,1022.9,1326.4000000000001,2909.7199999999998,2158.8800000000001,2858.5599999999999,2345.1999999999998,2048.1300000000001,2645.5100000000002,2345.1999999999998,1475.6199999999999,2537.5100000000002,2805.3000000000002,2345.1999999999998,2156.8800000000001,2645.52,2345.1999999999998,1215.72,1287.4400000000001,1512.5,1501.6199999999999,1694,1084.28,414.24000000000001,919.60000000000002,405.24000000000001,2075.1500000000001,1509.76,1010.35,2601.5,3079.2800000000002,1585.0999999999999,1565.7,193.59999999999999,565.39999999999998,696.96000000000004,1391.5,919.60000000000002,1565.7,1287.4400000000001,900.24000000000001,1694,1645.5999999999999,0,1528.28,608.41999999999996,1285.02,1294.7,1475.76,1321.3199999999999,1098,621.36000000000001,1052.7,2026.2,1466.52,1386.24,992.20000000000005,992.20000000000005,1525.3599999999999,1452,1915.6800000000001,1197.9000000000001,2026.2,1067.22,1067.22,1067.22,1197.9000000000001,1616.45,1035.5999999999999,1321.3199999999999,1149.5,1052.7,1501.6500000000001,317.63,1303.8800000000001,774.39999999999998,1749.9000000000001,1510.4400000000001,1835.8800000000001,968,1512.5,1149.5,1064.8,774.39999999999998,1149.5,1016.4,1016.4,1054.6199999999999,1149.5,1616.45,2347.1900000000001,2805.3000000000002,2345.1999999999998,187.40000000000001,221.03999999999999,281.57999999999998,145.13,2292.8200000000002,2538.98,154.19999999999999,2217.2800000000002,2428.7600000000002,2592.25,2345.1999999999998,2048.1399999999999,2752.04,2345.1999999999998,1098,312.93000000000001,562.48000000000002,2211.2600000000002,2379.1799999999998,2345.1999999999998,1016.4,1823.8,1076.9000000000001,968,1190.96,968,1584.1199999999999,1098,1805.1600000000001,1778.7,1592.1199999999999,895.39999999999998,1512.5,1823.8,822.79999999999995,1124.7,193.59999999999999,1149.5,1187.9200000000001,1149.8,1550.01,1149.5,1616.45,569.58000000000004,644.70000000000005,1016.4,928.48000000000002,871.20000000000005,1149.5,1346.29,878.39999999999998,414.24000000000001,968,1528.8599999999999,1098,1970.9400000000001,1003.12,1950.3399999999999,1550.95,968,1476.2,1210.3399999999999,658.79999999999995,1303.8800000000001,1149.5,1667.01,1184.5999999999999,423.5,488.30000000000001,1149.5,423.5,1473.8399999999999,1016.4,1187.9400000000001,1149.5,674.25,1616.45,1423.95,1035.46,1475.6199999999999,1113.2,968,233.00999999999999,1722.27,1694.6400000000001,1621.2,1893.0599999999999,1715.6300000000001,968,1548.8,1475.6199999999999,1166.6300000000001,1004.3,1749.9000000000001,1064.8,1403.5999999999999,1111.7,628.89999999999998,1511.9000000000001,1367.3,1616.46,388.35000000000002,465.85000000000002,1388.48,2022.76,1149.5,1149.5,194.19999999999999,1098,266.19999999999999,638.88,1970.9400000000001,1833.99,2064.5599999999999,1674.47,968,1512.5,2022.76,757.62,465.85000000000002,699.96000000000004,1204.5599999999999,1512.5,1253.3,1759.6500000000001,984.63999999999999,457.38,1016.4,1616.45,388.35000000000002,931.70000000000005,813.12,1624.8399999999999,1040.5999999999999,1149.5,194.19999999999999,878.39999999999998,217.80000000000001,1113.28,1098,1016.4,2357.7600000000002,1803.5899999999999,2102.6799999999998,1509.76,968,1667.7,1624.8399999999999,1253.3,405.24000000000001,851.84000000000003,1482.25,851.84000000000003,1548.8,1072.0999999999999,1073.5699999999999,1016.4,1016.4,1092.6300000000001,1548.8,1616.45,388.35000000000002,762.29999999999995,762.29999999999995,2400.98,2081.46,762.29999999999995,1567.71,762.29999999999995,2129.6399999999999,1805.1600000000001,1805.1600000000001,992.20000000000005,1548.4400000000001,1028.5,2228.3099999999999,1180.3599999999999,918.22000000000003,1379.02,1018.02,765.46000000000004,1349.1500000000001,1310.75,1797.95,919.60000000000002,1998.5699999999999,1310.75,999.45000000000005,1386.23,942.91999999999996,1696.7,1015.65,1022.45,741.14999999999998,806.63999999999999,708.21000000000004,1421.75,1900.9100000000001,1367.3,2053.8299999999999,1695.04,1244.5,1166.6300000000001,1041.73,1869.98,1768.9000000000001,744.86000000000001,1098,827.24000000000001,1303.8800000000001,1929.95,981.34000000000003,1777.4000000000001,2136.5700000000002,1349.1500000000001,1657.7,2716.9499999999998,1777.4000000000001,1056.8299999999999,1017.03,1487.3199999999999,1074.4400000000001,1581.1800000000001,734.57000000000005,1076.9000000000001,847.82000000000005,749.38999999999999,1098,1748.45,1983.26,2426.8200000000002,1476.2,2634.0599999999999,1523.47,256,544,136,512,512,544,408,1280,352,256,1360,544,1280,144,1360,680,256,816,272,782,1561.8800000000001,920.59000000000003,2255.0900000000001,1561.8800000000001,1157.6300000000001,154.40000000000001,49.609999999999999,1019.34,86.849999999999994,947.60000000000002,2296.8800000000001,1135.5799999999999,2528.1300000000001,2296.8800000000001,2296.8800000000001,644,1460.8099999999999,771.75,2194.4099999999999,1635.3800000000001,1635.3800000000001,671.60000000000002,1258.6900000000001,738.67999999999995,2012.3900000000001,1497.5599999999999,882,1525.1300000000001,699.20000000000005,1745.6300000000001,1003.26,2224.75,1690.5,1470,610.88,1651.9100000000001,788.28999999999996,1800.03,1607.8099999999999,1514.0999999999999,770.5,1565.55,788.28999999999996,2042.73,1497.5599999999999,1492.05,809.60000000000002,1451.6300000000001,970.20000000000005,2103.4000000000001,231.59999999999999,1855.8800000000001,1323,441.60000000000002,1773.1900000000001,694.58000000000004,2042.73,1580.25,1580.25,227.59999999999999,580.57000000000005,1287.75,1509.77,1386.23,1721.22,1386.23,1671.4400000000001,1942.0899999999999,912.95000000000005,1303.8800000000001,810.83000000000004,782.33000000000004,1778.1300000000001,1715.6300000000001,1173.49,1458.0599999999999,1715.6300000000001,1345.05,1536.3099999999999,1509.75,1386.23,1564.75,1468.5799999999999,39.240000000000002,274.5,384.07999999999998,260.77999999999997,288.23000000000002,298.73000000000002,109.8,109.8,1529.2,850.96000000000004,229.41,288.23000000000002,341.39999999999998,1756.8,1509.75,1002.86,1063.6900000000001,1797.98,841.16999999999996,54.899999999999999,329.39999999999998,521.54999999999995,329.39999999999998,341.39999999999998,1756.8,329.39999999999998,1509.75,1863.48,1372.5,1242.1199999999999,407.83999999999997,1365.6400000000001,2076.8499999999999,1777.3900000000001,230.63999999999999,1859.74,1714.1099999999999,1784.25,1756.8,247.05000000000001,1735.45,1756.8,247.05000000000001,823.5,1345.05,1820.8,1372.5,1756.8,433.32999999999998,232,232,232,928,928,348,232,348,696,696,1240,1202,348,1160,1160,1240,1202,1160,1160,1160],"text":["net:  824.86<br />gross: 1163.20","net: 1220.32<br />gross: 1487.32","net: 1781.83<br />gross:  704.13","net:  893.28<br />gross: 1413.69","net: 1113.71<br />gross: 1315.60","net: 1141.06<br />gross:  810.48","net: 1079.45<br />gross: 1694.64","net:  785.51<br />gross: 1182.20","net: 1243.60<br />gross: 1512.94","net: 1277.46<br />gross:  147.36","net: 1142.53<br />gross:  902.58","net: 1418.87<br />gross: 1710.29","net:  572.33<br />gross:  405.24","net: 1739.81<br />gross:  723.58","net:  186.21<br />gross:  232.64","net:  311.04<br />gross:  411.46","net:  816.32<br />gross: 1222.10","net:  627.75<br />gross:  878.40","net:  401.94<br />gross:  532.40","net: 1204.52<br />gross: 1633.28","net:  836.86<br />gross:  488.30","net:  283.18<br />gross:  387.20","net:  167.75<br />gross:  232.64","net:  512.48<br />gross:  713.90","net: 1125.99<br />gross: 1616.45","net: 1662.26<br />gross: 2468.28","net:  878.01<br />gross: 1331.00","net:  803.33<br />gross: 1229.80","net:  772.43<br />gross: 1098.00","net:  793.87<br />gross: 1076.90","net: 1104.05<br />gross: 1585.10","net:  692.85<br />gross:  748.30","net: 1047.02<br />gross: 1386.24","net: 1164.63<br />gross: 1675.85","net: 1275.56<br />gross: 1413.69","net: 1990.42<br />gross: 3065.15","net: 1515.03<br />gross: 2468.28","net:  939.74<br />gross: 1413.50","net:  984.03<br />gross: 1548.80","net:  580.81<br />gross:  847.32","net: 1002.80<br />gross: 1548.80","net: 1121.87<br />gross: 1616.45","net: 1404.43<br />gross: 1108.64","net: 1107.11<br />gross: 1504.38","net: 1054.21<br />gross: 1420.40","net: 1236.56<br />gross: 1705.60","net:  709.36<br />gross:  878.40","net:  879.09<br />gross: 1160.00","net: 1392.98<br />gross: 1970.82","net: 1616.46<br />gross: 2345.20","net: 1665.46<br />gross: 2292.83","net: 1539.74<br />gross: 2325.92","net: 2071.76<br />gross: 2473.12","net: 1220.32<br />gross:  512.62","net: 1736.76<br />gross: 2510.33","net: 1804.74<br />gross: 2752.04","net: 1730.96<br />gross: 2345.20","net: 1334.00<br />gross:  581.41","net: 1331.35<br />gross:  873.62","net: 1137.88<br />gross: 1420.55","net:  905.40<br />gross:  624.65","net:  509.14<br />gross:  727.43","net: 1202.48<br />gross: 1978.28","net: 1366.10<br />gross: 1472.88","net:  659.92<br />gross:  528.61","net: 1301.46<br />gross:  859.10","net: 1263.83<br />gross:  892.13","net: 1522.85<br />gross: 1002.88","net:  865.96<br />gross:  943.80","net:  812.44<br />gross: 1523.48","net:  880.32<br />gross: 1273.33","net:  866.43<br />gross: 1345.06","net: 1166.72<br />gross: 1913.30","net: 1700.26<br />gross: 2895.22","net:  916.66<br />gross: 1509.78","net: 1116.16<br />gross: 1603.25","net: 1285.33<br />gross: 1907.79","net: 1861.23<br />gross: 2832.07","net:  953.15<br />gross: 1494.35","net: 1268.38<br />gross: 2026.20","net:  870.66<br />gross: 1859.74","net: 1222.47<br />gross: 1854.73","net:  830.20<br />gross: 1283.30","net:  762.34<br />gross: 1078.80","net: 1154.81<br />gross: 1891.64","net: 1642.32<br />gross: 2786.92","net:  797.11<br />gross: 1125.45","net:  632.24<br />gross:  899.33","net:  772.43<br />gross: 1098.00","net: 1536.45<br />gross: 2335.30","net: 1115.28<br />gross: 1633.29","net: 2478.44<br />gross: 2300.63","net:  668.86<br />gross:  992.20","net: 1268.37<br />gross: 2026.20","net:  836.74<br />gross: 1797.99","net: 1375.41<br />gross: 1970.94","net:  991.08<br />gross: 1367.30","net:  991.22<br />gross: 1490.60","net:  991.07<br />gross: 1367.30","net: 1471.78<br />gross: 2136.72","net: 1142.54<br />gross:  405.24","net:  991.07<br />gross: 1367.30","net: 1042.68<br />gross: 1567.70","net: 1620.86<br />gross: 2056.64","net: 1407.88<br />gross: 2026.20","net: 1205.60<br />gross:  921.00","net:  918.43<br />gross: 1064.80","net: 1042.69<br />gross: 1567.70","net:  918.44<br />gross: 1064.80","net: 1588.00<br />gross: 2006.30","net: 1331.35<br />gross: 1342.92","net: 1789.82<br />gross: 3061.28","net:  710.54<br />gross: 1022.90","net:  905.18<br />gross: 1326.40","net: 1841.83<br />gross: 2909.72","net: 1534.24<br />gross: 2158.88","net: 1863.65<br />gross: 2858.56","net: 1730.94<br />gross: 2345.20","net: 1470.89<br />gross: 2048.13","net: 1745.85<br />gross: 2645.51","net: 1730.95<br />gross: 2345.20","net: 1004.88<br />gross: 1475.62","net: 1754.48<br />gross: 2537.51","net: 1834.20<br />gross: 2805.30","net: 1730.96<br />gross: 2345.20","net: 1534.23<br />gross: 2156.88","net: 1745.83<br />gross: 2645.52","net: 1730.94<br />gross: 2345.20","net: 1598.93<br />gross: 1215.72","net:  796.64<br />gross: 1287.44","net:  980.99<br />gross: 1512.50","net:  957.53<br />gross: 1501.62","net: 1104.38<br />gross: 1694.00","net:  768.89<br />gross: 1084.28","net:  339.12<br />gross:  414.24","net:  689.37<br />gross:  919.60","net: 1225.50<br />gross:  405.24","net: 1393.48<br />gross: 2075.15","net: 1129.64<br />gross: 1509.76","net:  679.14<br />gross: 1010.35","net: 1682.21<br />gross: 2601.50","net: 1998.95<br />gross: 3079.28","net: 1004.63<br />gross: 1585.10","net: 1260.42<br />gross: 1565.70","net:  741.38<br />gross:  193.60","net: 1144.46<br />gross:  565.40","net:  490.44<br />gross:  696.96","net:  894.93<br />gross: 1391.50","net: 1225.55<br />gross:  919.60","net: 1205.45<br />gross: 1565.70","net:  837.85<br />gross: 1287.44","net:  613.37<br />gross:  900.24","net: 1066.09<br />gross: 1694.00","net: 1058.02<br />gross: 1645.60","net: 1734.24<br />gross:    0.00","net: 1062.98<br />gross: 1528.28","net:  689.85<br />gross:  608.42","net:  794.47<br />gross: 1285.02","net:  857.43<br />gross: 1294.70","net:  942.79<br />gross: 1475.76","net:  892.59<br />gross: 1321.32","net:  772.43<br />gross: 1098.00","net:  487.11<br />gross:  621.36","net:  777.69<br />gross: 1052.70","net: 1288.46<br />gross: 2026.20","net: 1062.37<br />gross: 1466.52","net:  831.33<br />gross: 1386.24","net:  668.56<br />gross:  992.20","net:  833.36<br />gross:  992.20","net: 1038.12<br />gross: 1525.36","net:  929.04<br />gross: 1452.00","net: 1205.60<br />gross: 1915.68","net:  785.00<br />gross: 1197.90","net: 1268.38<br />gross: 2026.20","net:  712.36<br />gross: 1067.22","net:  707.35<br />gross: 1067.22","net:  711.13<br />gross: 1067.22","net:  803.77<br />gross: 1197.90","net: 1121.87<br />gross: 1616.45","net:  693.36<br />gross: 1035.60","net:  642.42<br />gross: 1321.32","net:  775.21<br />gross: 1149.50","net:  749.16<br />gross: 1052.70","net:  957.55<br />gross: 1501.65","net:   96.44<br />gross:  317.63","net:  913.56<br />gross: 1303.88","net:  591.55<br />gross:  774.40","net: 1130.98<br />gross: 1749.90","net: 1095.98<br />gross: 1510.44","net: 1258.82<br />gross: 1835.88","net:  654.91<br />gross:  968.00","net: 1055.59<br />gross: 1512.50","net:  757.65<br />gross: 1149.50","net:  727.52<br />gross: 1064.80","net:  541.43<br />gross:  774.40","net:  845.89<br />gross: 1149.50","net:  683.64<br />gross: 1016.40","net:  678.64<br />gross: 1016.40","net:  704.02<br />gross: 1054.62","net:  776.42<br />gross: 1149.50","net: 1121.88<br />gross: 1616.45","net: 1644.37<br />gross: 2347.19","net: 1834.20<br />gross: 2805.30","net: 1730.96<br />gross: 2345.20","net:  830.15<br />gross:  187.40","net: 1535.58<br />gross:  221.04","net: 1284.60<br />gross:  281.58","net: 1618.63<br />gross:  145.13","net: 1512.89<br />gross: 2292.82","net: 1686.93<br />gross: 2538.98","net: 1188.04<br />gross:  154.20","net: 1656.27<br />gross: 2217.28","net: 1691.55<br />gross: 2428.76","net: 1716.38<br />gross: 2592.25","net: 1730.95<br />gross: 2345.20","net: 1469.84<br />gross: 2048.14","net: 1802.79<br />gross: 2752.04","net: 1729.53<br />gross: 2345.20","net:  721.71<br />gross: 1098.00","net:  580.86<br />gross:  312.93","net:  453.81<br />gross:  562.48","net: 1564.45<br />gross: 2211.26","net: 1597.06<br />gross: 2379.18","net: 1729.54<br />gross: 2345.20","net:  635.99<br />gross: 1016.40","net: 1111.87<br />gross: 1823.80","net:  734.10<br />gross: 1076.90","net:  692.61<br />gross:  968.00","net:  781.34<br />gross: 1190.96","net:  721.33<br />gross:  968.00","net: 1034.65<br />gross: 1584.12","net:  739.28<br />gross: 1098.00","net: 1296.28<br />gross: 1805.16","net: 1226.50<br />gross: 1778.70","net:  967.35<br />gross: 1592.12","net:  613.87<br />gross:  895.40","net: 1055.58<br />gross: 1512.50","net: 1237.27<br />gross: 1823.80","net:  572.88<br />gross:  822.80","net:  761.45<br />gross: 1124.70","net:  918.43<br />gross:  193.60","net:  757.66<br />gross: 1149.50","net:  780.78<br />gross: 1187.92","net:  754.18<br />gross: 1149.80","net:  984.93<br />gross: 1550.01","net:  776.42<br />gross: 1149.50","net: 1121.87<br />gross: 1616.45","net:  599.21<br />gross:  569.58","net: 1210.58<br />gross:  644.70","net:  658.02<br />gross: 1016.40","net:  877.30<br />gross:  928.48","net:  615.78<br />gross:  871.20","net:  813.51<br />gross: 1149.50","net:  869.37<br />gross: 1346.29","net:  627.76<br />gross:  878.40","net:  339.03<br />gross:  414.24","net:  721.34<br />gross:  968.00","net: 1001.87<br />gross: 1528.86","net:  739.29<br />gross: 1098.00","net: 1394.23<br />gross: 1970.94","net:  696.42<br />gross: 1003.12","net: 1352.33<br />gross: 1950.34","net:  943.20<br />gross: 1550.95","net:  654.91<br />gross:  968.00","net: 1031.38<br />gross: 1476.20","net: 1098.27<br />gross: 1210.34","net:  484.88<br />gross:  658.80","net:  913.56<br />gross: 1303.88","net:  757.66<br />gross: 1149.50","net: 1063.20<br />gross: 1667.01","net:  795.40<br />gross: 1184.60","net:  797.53<br />gross:  423.50","net:  888.28<br />gross:  488.30","net:  757.65<br />gross: 1149.50","net:  797.52<br />gross:  423.50","net:  965.07<br />gross: 1473.84","net:  689.24<br />gross: 1016.40","net:  797.71<br />gross: 1187.94","net:  776.43<br />gross: 1149.50","net: 1423.54<br />gross:  674.25","net: 1121.87<br />gross: 1616.45","net:  913.44<br />gross: 1423.95","net:  458.24<br />gross: 1035.46","net:  916.03<br />gross: 1475.62","net:  754.66<br />gross: 1113.20","net:  692.61<br />gross:  968.00","net:  814.98<br />gross:  233.01","net: 1115.21<br />gross: 1722.27","net: 1221.37<br />gross: 1694.64","net: 1068.94<br />gross: 1621.20","net: 1291.15<br />gross: 1893.06","net: 1039.84<br />gross: 1715.63","net:  654.89<br />gross:  968.00","net: 1079.82<br />gross: 1548.80","net: 1004.88<br />gross: 1475.62","net:  825.35<br />gross: 1166.63","net:  675.63<br />gross: 1004.30","net: 1111.00<br />gross: 1749.90","net:  727.52<br />gross: 1064.80","net:  901.65<br />gross: 1403.60","net:  737.62<br />gross: 1111.70","net:  441.09<br />gross:  628.90","net:  963.30<br />gross: 1511.90","net:  899.82<br />gross: 1367.30","net: 1121.89<br />gross: 1616.46","net:  913.44<br />gross:  388.35","net:  336.16<br />gross:  465.85","net:  658.23<br />gross: 1388.48","net: 1220.48<br />gross: 2022.76","net:  775.21<br />gross: 1149.50","net:  813.51<br />gross: 1149.50","net:  847.34<br />gross:  194.20","net:  772.44<br />gross: 1098.00","net:  769.71<br />gross:  266.20","net:  451.71<br />gross:  638.88","net: 1394.22<br />gross: 1970.94","net: 1181.57<br />gross: 1833.99","net: 1387.54<br />gross: 2064.56","net: 1015.68<br />gross: 1674.47","net:  654.90<br />gross:  968.00","net: 1055.59<br />gross: 1512.50","net: 1354.37<br />gross: 2022.76","net:  551.93<br />gross:  757.62","net:  336.16<br />gross:  465.85","net: 1205.60<br />gross:  699.96","net:  806.68<br />gross: 1204.56","net:  963.43<br />gross: 1512.50","net:  917.38<br />gross: 1253.30","net: 1102.97<br />gross: 1759.65","net:  660.94<br />gross:  984.64","net:  345.47<br />gross:  457.38","net:  682.43<br />gross: 1016.40","net: 1121.87<br />gross: 1616.45","net:  913.44<br />gross:  388.35","net:  645.70<br />gross:  931.70","net:  332.35<br />gross:  813.12","net: 1000.42<br />gross: 1624.84","net:  713.57<br />gross: 1040.60","net:  813.51<br />gross: 1149.50","net:  825.34<br />gross:  194.20","net:  627.75<br />gross:  878.40","net:  938.98<br />gross:  217.80","net:  932.86<br />gross: 1113.28","net:  470.78<br />gross: 1098.00","net:  682.42<br />gross: 1016.40","net: 1616.77<br />gross: 2357.76","net: 1163.57<br />gross: 1803.59","net: 1407.50<br />gross: 2102.68","net:  916.39<br />gross: 1509.76","net:  654.90<br />gross:  968.00","net: 1152.07<br />gross: 1667.70","net: 1104.20<br />gross: 1624.84","net:  818.74<br />gross: 1253.30","net: 1070.80<br />gross:  405.24","net:  589.60<br />gross:  851.84","net:  946.32<br />gross: 1482.25","net:  602.83<br />gross:  851.84","net:  983.73<br />gross: 1548.80","net:  847.20<br />gross: 1072.10","net:  716.02<br />gross: 1073.57","net:  678.64<br />gross: 1016.40","net:  723.47<br />gross: 1016.40","net:  725.60<br />gross: 1092.63","net: 1002.50<br />gross: 1548.80","net: 1121.46<br />gross: 1616.45","net:  935.30<br />gross:  388.35","net: 1063.70<br />gross:  762.30","net: 1063.77<br />gross:  762.30","net: 1842.54<br />gross: 2400.98","net: 1637.13<br />gross: 2081.46","net:  942.63<br />gross:  762.30","net: 1042.70<br />gross: 1567.71","net:  942.63<br />gross:  762.30","net: 1670.13<br />gross: 2129.64","net: 1276.85<br />gross: 1805.16","net: 1141.90<br />gross: 1805.16","net:  918.43<br />gross:  992.20","net: 1029.52<br />gross: 1548.44","net:  942.62<br />gross: 1028.50","net: 1733.90<br />gross: 2228.31","net:  769.94<br />gross: 1180.36","net:  656.10<br />gross:  918.22","net:  872.42<br />gross: 1379.02","net:  672.01<br />gross: 1018.02","net:  542.22<br />gross:  765.46","net:  946.58<br />gross: 1349.15","net:  904.48<br />gross: 1310.75","net: 1272.92<br />gross: 1797.95","net:  527.77<br />gross:  919.60","net: 1252.76<br />gross: 1998.57","net:  565.48<br />gross: 1310.75","net:  830.15<br />gross:  999.45","net:  890.57<br />gross: 1386.23","net:  672.80<br />gross:  942.92","net: 1047.61<br />gross: 1696.70","net:  718.17<br />gross: 1015.65","net:  757.61<br />gross: 1022.45","net:  526.67<br />gross:  741.15","net:  569.91<br />gross:  806.64","net:  518.52<br />gross:  708.21","net:  995.02<br />gross: 1421.75","net: 1275.55<br />gross: 1900.91","net:  881.03<br />gross: 1367.30","net: 1283.80<br />gross: 2053.83","net:  779.34<br />gross: 1695.04","net:  863.60<br />gross: 1244.50","net:  763.36<br />gross: 1166.63","net:  739.66<br />gross: 1041.73","net: 1142.90<br />gross: 1869.98","net: 1088.78<br />gross: 1768.90","net:  509.21<br />gross:  744.86","net:  739.28<br />gross: 1098.00","net:  583.76<br />gross:  827.24","net:  913.56<br />gross: 1303.88","net: 1311.73<br />gross: 1929.95","net:  660.38<br />gross:  981.34","net: 1205.22<br />gross: 1777.40","net: 1482.56<br />gross: 2136.57","net:  870.75<br />gross: 1349.15","net: 1045.84<br />gross: 1657.70","net: 1651.46<br />gross: 2716.95","net:  825.42<br />gross: 1777.40","net:  699.82<br />gross: 1056.83","net:  722.95<br />gross: 1017.03","net:  934.20<br />gross: 1487.32","net:  825.34<br />gross: 1074.44","net:  989.25<br />gross: 1581.18","net:  502.29<br />gross:  734.57","net:  938.98<br />gross: 1076.90","net:  597.59<br />gross:  847.82","net:  547.41<br />gross:  749.39","net:  772.44<br />gross: 1098.00","net: 1208.63<br />gross: 1748.45","net: 1321.58<br />gross: 1983.26","net: 1644.33<br />gross: 2426.82","net:  942.64<br />gross: 1476.20","net: 1603.94<br />gross: 2634.06","net:  683.91<br />gross: 1523.47","net:  175.66<br />gross:  256.00","net:  400.10<br />gross:  544.00","net:  102.00<br />gross:  136.00","net:  347.19<br />gross:  512.00","net:  380.37<br />gross:  512.00","net:  400.10<br />gross:  544.00","net:  292.98<br />gross:  408.00","net:  867.98<br />gross: 1280.00","net:  287.96<br />gross:  352.00","net:  188.10<br />gross:  256.00","net: 1000.27<br />gross: 1360.00","net:  390.63<br />gross:  544.00","net:  867.98<br />gross: 1280.00","net:   91.00<br />gross:  144.00","net: 1000.27<br />gross: 1360.00","net:  488.30<br />gross:  680.00","net:  172.40<br />gross:  256.00","net:  600.17<br />gross:  816.00","net:  195.32<br />gross:  272.00","net:  614.79<br />gross:  782.00","net: 1419.05<br />gross: 1561.88","net:  678.31<br />gross:  920.59","net: 1496.43<br />gross: 2255.09","net: 1197.49<br />gross: 1561.88","net:  963.93<br />gross: 1157.63","net: 1231.99<br />gross:  154.40","net:  465.08<br />gross:   49.61","net: 1125.26<br />gross: 1019.34","net: 1246.96<br />gross:   86.85","net:  730.55<br />gross:  947.60","net: 1717.65<br />gross: 2296.88","net:  807.09<br />gross: 1135.58","net: 1572.32<br />gross: 2528.13","net: 1444.52<br />gross: 2296.88","net: 1444.67<br />gross: 2296.88","net:  516.25<br />gross:  644.00","net: 1147.69<br />gross: 1460.81","net:  576.83<br />gross:  771.75","net: 1387.79<br />gross: 2194.41","net: 1071.71<br />gross: 1635.38","net: 1072.38<br />gross: 1635.38","net:  536.10<br />gross:  671.60","net: 1006.09<br />gross: 1258.69","net:  553.71<br />gross:  738.68","net: 1286.27<br />gross: 2012.39","net:  990.37<br />gross: 1497.56","net:  963.55<br />gross:  882.00","net: 1117.55<br />gross: 1525.13","net:  555.94<br />gross:  699.20","net: 1343.41<br />gross: 1745.63","net:  727.85<br />gross: 1003.26","net: 1404.65<br />gross: 2224.75","net: 1103.58<br />gross: 1690.50","net: 1079.59<br />gross: 1470.00","net:  492.45<br />gross:  610.88","net: 1279.08<br />gross: 1651.91","net:  588.39<br />gross:  788.29","net: 1165.78<br />gross: 1800.03","net: 1055.44<br />gross: 1607.81","net: 1110.03<br />gross: 1514.10","net:  606.76<br />gross:  770.50","net: 1219.83<br />gross: 1565.55","net:  588.39<br />gross:  788.29","net: 1303.19<br />gross: 2042.73","net:  990.37<br />gross: 1497.56","net: 1095.13<br />gross: 1492.05","net:  634.09<br />gross:  809.60","net: 1141.40<br />gross: 1451.63","net:  708.02<br />gross:  970.20","net: 1337.03<br />gross: 2103.40","net:  906.66<br />gross:  231.60","net: 1197.49<br />gross: 1855.88","net:  978.94<br />gross: 1323.00","net:  370.21<br />gross:  441.60","net: 1416.34<br />gross: 1773.19","net:  646.17<br />gross:  694.58","net: 1303.19<br />gross: 2042.73","net: 1039.18<br />gross: 1580.25","net: 1155.49<br />gross: 1580.25","net:  810.58<br />gross:  227.60","net:  749.34<br />gross:  580.57","net:  832.36<br />gross: 1287.75","net:  894.40<br />gross: 1509.77","net: 1096.54<br />gross: 1386.23","net: 1607.28<br />gross: 1721.22","net: 1031.71<br />gross: 1386.23","net: 1175.55<br />gross: 1671.44","net: 1328.12<br />gross: 1942.09","net:  609.52<br />gross:  912.95","net:  714.00<br />gross: 1303.88","net:  951.86<br />gross:  810.83","net:  879.24<br />gross:  782.33","net: 1240.52<br />gross: 1778.13","net: 1186.40<br />gross: 1715.63","net: 1147.22<br />gross: 1173.49","net: 1028.89<br />gross: 1458.06","net: 1195.79<br />gross: 1715.63","net: 1076.52<br />gross: 1345.05","net: 1102.23<br />gross: 1536.31","net: 1054.93<br />gross: 1509.75","net:  991.70<br />gross: 1386.23","net: 1102.24<br />gross: 1564.75","net: 1026.67<br />gross: 1468.58","net:  677.66<br />gross:   39.24","net: 1076.52<br />gross:  274.50","net: 1131.56<br />gross:  384.08","net: 1054.94<br />gross:  260.78","net:  902.66<br />gross:  288.23","net: 1037.36<br />gross:  298.73","net: 1246.15<br />gross:  109.80","net: 1000.61<br />gross:  109.80","net: 1287.34<br />gross: 1529.20","net:  609.68<br />gross:  850.96","net:  911.78<br />gross:  229.41","net:  842.26<br />gross:  288.23","net: 1052.46<br />gross:  341.40","net: 1246.15<br />gross: 1756.80","net: 1000.60<br />gross: 1509.75","net: 1175.54<br />gross: 1002.86","net: 1125.64<br />gross: 1063.69","net: 1243.91<br />gross: 1797.98","net:  878.25<br />gross:  841.17","net:  560.10<br />gross:   54.90","net:  888.97<br />gross:  329.40","net:  828.87<br />gross:  521.55","net:  937.05<br />gross:  329.40","net: 1052.46<br />gross:  341.40","net: 1246.14<br />gross: 1756.80","net: 1141.35<br />gross:  329.40","net: 1000.61<br />gross: 1509.75","net: 1299.83<br />gross: 1863.48","net: 1267.98<br />gross: 1372.50","net:  871.21<br />gross: 1242.12","net:  699.85<br />gross:  407.84","net:  955.96<br />gross: 1365.64","net: 1463.64<br />gross: 2076.85","net: 1260.24<br />gross: 1777.39","net:  797.00<br />gross:  230.64","net: 1204.68<br />gross: 1859.74","net: 1204.83<br />gross: 1714.11","net: 1267.97<br />gross: 1784.25","net: 1219.85<br />gross: 1756.80","net:  925.70<br />gross:  247.05","net: 1229.76<br />gross: 1735.45","net: 1246.15<br />gross: 1756.80","net: 1064.78<br />gross:  247.05","net:  590.74<br />gross:  823.50","net: 1043.42<br />gross: 1345.05","net: 1274.85<br />gross: 1820.80","net: 1195.78<br />gross: 1372.50","net: 1219.85<br />gross: 1756.80","net:  833.64<br />gross:  433.33","net:    0.00<br />gross:  232.00","net:    0.00<br />gross:  232.00","net:    0.00<br />gross:  232.00","net:  647.02<br />gross:  928.00","net:  680.69<br />gross:  928.00","net:    0.00<br />gross:  348.00","net:    0.00<br />gross:  232.00","net:    0.00<br />gross:  348.00","net:  510.56<br />gross:  696.00","net:  533.25<br />gross:  696.00","net:  827.67<br />gross: 1240.00","net:  735.16<br />gross: 1202.00","net:  272.34<br />gross:  348.00","net:  913.84<br />gross: 1160.00","net:  848.54<br />gross: 1160.00","net:  827.67<br />gross: 1240.00","net:  735.15<br />gross: 1202.00","net:  913.84<br />gross: 1160.00","net:  848.54<br />gross: 1160.00","net:  781.65<br />gross: 1160.00"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(77,77,77,1)","opacity":0.5,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(77,77,77,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[166.74000000000001,184.90025316455697,203.06050632911393,221.2207594936709,239.38101265822786,257.54126582278479,275.70151898734179,293.86177215189878,312.02202531645571,330.18227848101264,348.34253164556964,366.50278481012663,384.66303797468356,402.8232911392405,420.98354430379749,439.14379746835448,457.30405063291141,475.46430379746835,493.62455696202534,511.78481012658233,529.94506329113926,548.1053164556962,566.26556962025325,584.42582278481018,602.58607594936711,620.74632911392405,638.90658227848098,657.06683544303803,675.22708860759496,693.3873417721519,711.54759493670895,729.70784810126588,747.86810126582282,766.02835443037975,784.18860759493668,802.34886075949373,820.50911392405067,838.6693670886076,856.82962025316465,874.98987341772158,893.15012658227852,911.31037974683545,929.47063291139239,947.63088607594943,965.79113924050637,983.9513924050633,1002.1116455696204,1020.2718987341773,1038.4321518987342,1056.5924050632912,1074.7526582278481,1092.912911392405,1111.0731645569622,1129.2334177215189,1147.3936708860761,1165.553924050633,1183.7141772151899,1201.8744303797469,1220.0346835443038,1238.1949367088607,1256.3551898734179,1274.5154430379748,1292.6756962025318,1310.8359493670887,1328.9962025316456,1347.1564556962026,1365.3167088607595,1383.4769620253164,1401.6372151898734,1419.7974683544305,1437.9577215189875,1456.1179746835444,1474.2782278481013,1492.4384810126583,1510.5987341772152,1528.7589873417721,1546.9192405063293,1565.0794936708862,1583.2397468354432,1601.4000000000001],"y":[459.35840533899392,478.52299072407936,497.68757610916475,516.85216149425014,536.01674687933564,555.18133226442092,574.34591764950642,593.51050303459192,612.67508841967719,631.8396738047627,651.00425918984809,670.16884457493347,689.33342996001886,708.49801534510425,727.66260073018975,746.82718611527514,765.99177150036053,785.15635688544592,804.3209422705313,823.48552765561681,842.65011304070208,861.81469842578758,880.97928381087308,900.14386919595836,919.30845458104386,938.47303996612914,957.63762535121464,976.80221073630014,995.96679612138541,1015.1313815064709,1034.2959668915564,1053.4605522766417,1072.6251376617272,1091.7897230468125,1110.954308431898,1130.1188938169835,1149.2834792020687,1168.4480645871542,1187.6126499722398,1206.777235357325,1225.9418207424105,1245.1064061274958,1264.2709915125813,1283.4355768976668,1302.6001622827521,1321.7647476678376,1340.9293330529231,1360.0939184380084,1379.2585038230939,1398.4230892081791,1417.5876745932646,1436.7522599783499,1455.9168453634356,1475.0814307485207,1494.2460161336064,1513.4106015186917,1532.5751869037772,1551.7397722888625,1570.904357673948,1590.0689430590332,1609.233528444119,1628.3981138292042,1647.5626992142898,1666.727284599375,1685.8918699844603,1705.0564553695458,1724.2210407546311,1743.3856261397166,1762.5502115248019,1781.7147969098876,1800.8793822949729,1820.0439676800584,1839.2085530651436,1858.3731384502291,1877.5377238353144,1896.7023092203999,1915.8668946054854,1935.0314799905709,1954.1960653756562,1973.3606507607417],"text":["net:  166.74000<br />gross:  459.35841","net:  184.90025<br />gross:  478.52299","net:  203.06051<br />gross:  497.68758","net:  221.22076<br />gross:  516.85216","net:  239.38101<br />gross:  536.01675","net:  257.54127<br />gross:  555.18133","net:  275.70152<br />gross:  574.34592","net:  293.86177<br />gross:  593.51050","net:  312.02203<br />gross:  612.67509","net:  330.18228<br />gross:  631.83967","net:  348.34253<br />gross:  651.00426","net:  366.50278<br />gross:  670.16884","net:  384.66304<br />gross:  689.33343","net:  402.82329<br />gross:  708.49802","net:  420.98354<br />gross:  727.66260","net:  439.14380<br />gross:  746.82719","net:  457.30405<br />gross:  765.99177","net:  475.46430<br />gross:  785.15636","net:  493.62456<br />gross:  804.32094","net:  511.78481<br />gross:  823.48553","net:  529.94506<br />gross:  842.65011","net:  548.10532<br />gross:  861.81470","net:  566.26557<br />gross:  880.97928","net:  584.42582<br />gross:  900.14387","net:  602.58608<br />gross:  919.30845","net:  620.74633<br />gross:  938.47304","net:  638.90658<br />gross:  957.63763","net:  657.06684<br />gross:  976.80221","net:  675.22709<br />gross:  995.96680","net:  693.38734<br />gross: 1015.13138","net:  711.54759<br />gross: 1034.29597","net:  729.70785<br />gross: 1053.46055","net:  747.86810<br />gross: 1072.62514","net:  766.02835<br />gross: 1091.78972","net:  784.18861<br />gross: 1110.95431","net:  802.34886<br />gross: 1130.11889","net:  820.50911<br />gross: 1149.28348","net:  838.66937<br />gross: 1168.44806","net:  856.82962<br />gross: 1187.61265","net:  874.98987<br />gross: 1206.77724","net:  893.15013<br />gross: 1225.94182","net:  911.31038<br />gross: 1245.10641","net:  929.47063<br />gross: 1264.27099","net:  947.63089<br />gross: 1283.43558","net:  965.79114<br />gross: 1302.60016","net:  983.95139<br />gross: 1321.76475","net: 1002.11165<br />gross: 1340.92933","net: 1020.27190<br />gross: 1360.09392","net: 1038.43215<br />gross: 1379.25850","net: 1056.59241<br />gross: 1398.42309","net: 1074.75266<br />gross: 1417.58767","net: 1092.91291<br />gross: 1436.75226","net: 1111.07316<br />gross: 1455.91685","net: 1129.23342<br />gross: 1475.08143","net: 1147.39367<br />gross: 1494.24602","net: 1165.55392<br />gross: 1513.41060","net: 1183.71418<br />gross: 1532.57519","net: 1201.87443<br />gross: 1551.73977","net: 1220.03468<br />gross: 1570.90436","net: 1238.19494<br />gross: 1590.06894","net: 1256.35519<br />gross: 1609.23353","net: 1274.51544<br />gross: 1628.39811","net: 1292.67570<br />gross: 1647.56270","net: 1310.83595<br />gross: 1666.72728","net: 1328.99620<br />gross: 1685.89187","net: 1347.15646<br />gross: 1705.05646","net: 1365.31671<br />gross: 1724.22104","net: 1383.47696<br />gross: 1743.38563","net: 1401.63722<br />gross: 1762.55021","net: 1419.79747<br />gross: 1781.71480","net: 1437.95772<br />gross: 1800.87938","net: 1456.11797<br />gross: 1820.04397","net: 1474.27823<br />gross: 1839.20855","net: 1492.43848<br />gross: 1858.37314","net: 1510.59873<br />gross: 1877.53772","net: 1528.75899<br />gross: 1896.70231","net: 1546.91924<br />gross: 1915.86689","net: 1565.07949<br />gross: 1935.03148","net: 1583.23975<br />gross: 1954.19607","net: 1601.40000<br />gross: 1973.36065"],"type":"scatter","mode":"lines","name":"fitted values","line":{"width":3.7795275590551185,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[199.90000000000001,210.10443037974684,220.30886075949368,230.51329113924052,240.71772151898733,250.92215189873417,261.12658227848101,271.33101265822785,281.53544303797469,291.73987341772153,301.94430379746836,312.1487341772152,322.35316455696204,332.55759493670882,342.76202531645572,352.9664556962025,363.1708860759494,373.37531645569618,383.57974683544307,393.78417721518986,403.98860759493675,414.19303797468353,424.39746835443037,434.60189873417721,444.80632911392405,455.01075949367089,465.21518987341767,475.41962025316457,485.62405063291135,495.82848101265824,506.03291139240503,516.23734177215192,526.4417721518987,536.6462025316456,546.85063291139238,557.05506329113928,567.25949367088606,577.46392405063295,587.66835443037974,597.87278481012663,608.07721518987341,618.2816455696202,628.48607594936709,638.69050632911387,648.89493670886077,659.09936708860755,669.30379746835445,679.50822784810123,689.71265822784812,699.91708860759491,710.1215189873418,720.32594936708858,730.53037974683537,740.73481012658226,750.93924050632904,761.14367088607594,771.34810126582272,781.55253164556962,791.7569620253164,801.96139240506329,812.16582278481008,822.37025316455697,832.57468354430375,842.77911392405065,852.98354430379743,863.18797468354421,873.39240506329111,883.59683544303789,893.80126582278479,904.00569620253157,914.21012658227846,924.41455696202524,934.61898734177214,944.82341772151892,955.02784810126582,965.2322784810126,975.4367088607595,985.64113924050628,995.84556962025317,1006.05],"y":[373.63415537374863,382.49721412950055,391.36027288525236,400.22333164100428,409.08639039675609,417.94944915250795,426.81250790825982,435.67556666401168,444.53862541976355,453.40168417551541,462.26474293126728,471.12780168701914,479.99086044277101,488.85391919852282,497.71697795427474,506.58003671002655,515.44309546577847,524.30615422153028,533.1692129772822,542.03227173303401,550.89533048878593,559.75838924453774,568.62144800028955,577.48450675604147,586.34756551179339,595.2106242675452,604.07368302329701,612.93674177904893,621.79980053480085,630.66285929055266,639.52591804630447,648.38897680205639,657.25203555780831,666.11509431356012,674.97815306931193,683.84121182506397,692.70427058081577,701.56732933656758,710.43038809231939,719.29344684807131,728.15650560382312,737.01956435957493,745.88262311532685,754.74568187107866,763.60874062683058,772.47179938258239,781.33485813833431,790.19791689408612,799.06097564983804,807.92403440558985,816.78709316134177,825.65015191709358,834.5132106728455,843.37626942859731,852.23932818434923,861.10238694010104,869.96544569585296,878.82850445160489,887.69156320735669,896.55462196310862,905.41768071886042,914.28073947461235,923.14379823036415,932.00685698611608,940.86991574186789,949.73297449761969,958.59603325337162,967.45909200912342,976.32215076487535,985.18520952062715,994.04826827637908,1002.9113270321309,1011.7743857878828,1020.6374445436346,1029.5005032993865,1038.3635620551383,1047.2266208108904,1056.0896795666422,1064.952738322394,1073.8157970781458],"text":["net:  199.90000<br />gross:  373.63416","net:  210.10443<br />gross:  382.49721","net:  220.30886<br />gross:  391.36027","net:  230.51329<br />gross:  400.22333","net:  240.71772<br />gross:  409.08639","net:  250.92215<br />gross:  417.94945","net:  261.12658<br />gross:  426.81251","net:  271.33101<br />gross:  435.67557","net:  281.53544<br />gross:  444.53863","net:  291.73987<br />gross:  453.40168","net:  301.94430<br />gross:  462.26474","net:  312.14873<br />gross:  471.12780","net:  322.35316<br />gross:  479.99086","net:  332.55759<br />gross:  488.85392","net:  342.76203<br />gross:  497.71698","net:  352.96646<br />gross:  506.58004","net:  363.17089<br />gross:  515.44310","net:  373.37532<br />gross:  524.30615","net:  383.57975<br />gross:  533.16921","net:  393.78418<br />gross:  542.03227","net:  403.98861<br />gross:  550.89533","net:  414.19304<br />gross:  559.75839","net:  424.39747<br />gross:  568.62145","net:  434.60190<br />gross:  577.48451","net:  444.80633<br />gross:  586.34757","net:  455.01076<br />gross:  595.21062","net:  465.21519<br />gross:  604.07368","net:  475.41962<br />gross:  612.93674","net:  485.62405<br />gross:  621.79980","net:  495.82848<br />gross:  630.66286","net:  506.03291<br />gross:  639.52592","net:  516.23734<br />gross:  648.38898","net:  526.44177<br />gross:  657.25204","net:  536.64620<br />gross:  666.11509","net:  546.85063<br />gross:  674.97815","net:  557.05506<br />gross:  683.84121","net:  567.25949<br />gross:  692.70427","net:  577.46392<br />gross:  701.56733","net:  587.66835<br />gross:  710.43039","net:  597.87278<br />gross:  719.29345","net:  608.07722<br />gross:  728.15651","net:  618.28165<br />gross:  737.01956","net:  628.48608<br />gross:  745.88262","net:  638.69051<br />gross:  754.74568","net:  648.89494<br />gross:  763.60874","net:  659.09937<br />gross:  772.47180","net:  669.30380<br />gross:  781.33486","net:  679.50823<br />gross:  790.19792","net:  689.71266<br />gross:  799.06098","net:  699.91709<br />gross:  807.92403","net:  710.12152<br />gross:  816.78709","net:  720.32595<br />gross:  825.65015","net:  730.53038<br />gross:  834.51321","net:  740.73481<br />gross:  843.37627","net:  750.93924<br />gross:  852.23933","net:  761.14367<br />gross:  861.10239","net:  771.34810<br />gross:  869.96545","net:  781.55253<br />gross:  878.82850","net:  791.75696<br />gross:  887.69156","net:  801.96139<br />gross:  896.55462","net:  812.16582<br />gross:  905.41768","net:  822.37025<br />gross:  914.28074","net:  832.57468<br />gross:  923.14380","net:  842.77911<br />gross:  932.00686","net:  852.98354<br />gross:  940.86992","net:  863.18797<br />gross:  949.73297","net:  873.39241<br />gross:  958.59603","net:  883.59684<br />gross:  967.45909","net:  893.80127<br />gross:  976.32215","net:  904.00570<br />gross:  985.18521","net:  914.21013<br />gross:  994.04827","net:  924.41456<br />gross: 1002.91133","net:  934.61899<br />gross: 1011.77439","net:  944.82342<br />gross: 1020.63744","net:  955.02785<br />gross: 1029.50050","net:  965.23228<br />gross: 1038.36356","net:  975.43671<br />gross: 1047.22662","net:  985.64114<br />gross: 1056.08968","net:  995.84557<br />gross: 1064.95274","net: 1006.05000<br />gross: 1073.81580"],"type":"scatter","mode":"lines","name":"fitted values","line":{"width":3.7795275590551185,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"x":[191.47,199.98329113924049,208.49658227848101,217.00987341772151,225.52316455696203,234.03645569620252,242.54974683544305,251.06303797468354,259.57632911392403,268.08962025316453,276.60291139240508,285.11620253164557,293.62949367088606,302.14278481012656,310.65607594936705,319.1693670886076,327.68265822784809,336.19594936708859,344.70924050632914,353.22253164556957,361.73582278481013,370.24911392405062,378.76240506329111,387.27569620253166,395.7889873417721,404.30227848101265,412.81556962025314,421.32886075949364,429.84215189873419,438.35544303797468,446.86873417721517,455.38202531645572,463.89531645569616,472.40860759493671,480.92189873417715,489.4351898734177,497.94848101265825,506.46177215189869,514.97506329113924,523.48835443037979,532.00164556962022,540.51493670886077,549.02822784810121,557.54151898734176,566.05481012658231,574.56810126582275,583.0813924050633,591.59468354430373,600.10797468354428,608.62126582278484,617.13455696202527,625.64784810126582,634.16113924050626,642.67443037974681,651.18772151898736,659.7010126582278,668.21430379746835,676.72759493670878,685.24088607594933,693.75417721518988,702.26746835443032,710.78075949367087,719.29405063291142,727.80734177215186,736.32063291139241,744.83392405063296,753.3472151898734,761.86050632911395,770.37379746835438,778.88708860759493,787.40037974683548,795.91367088607592,804.42696202531647,812.94025316455691,821.45354430379746,829.96683544303801,838.48012658227844,846.99341772151899,855.50670886075955,864.01999999999998],"y":[247.52212310956358,258.86882708623835,270.2155310629131,281.56223503958785,292.90893901626265,304.2556429929374,315.6023469696122,326.94905094628695,338.29575492296169,349.64245889963644,360.9891628763113,372.33586685298604,383.68257082966079,395.02927480633554,406.37597878301028,417.72268275968509,429.06938673635983,440.41609071303458,451.76279468970944,463.10949866638407,474.45620264305893,485.80290661973368,497.14961059640842,508.49631457308323,519.84301854975797,531.18972252643277,542.53642650310758,553.88313047978227,565.22983445645718,576.57653843313187,587.92324240980668,599.26994638648148,610.61665036315617,621.96335433983097,633.31005831650566,644.65676229318046,656.00346626985527,667.35017024652996,678.69687422320476,690.04357819987956,701.39028217655425,712.73698615322905,724.08369012990374,735.43039410657855,746.77709808325346,758.12380205992815,769.47050603660296,780.81721001327764,792.16391398995245,803.51061796662725,814.85732194330194,826.20402591997674,837.55072989665143,848.89743387332624,860.24413785000104,871.59084182667573,882.93754580335053,894.28424978002522,905.63095375670002,916.97765773337494,928.32436171004963,939.67106568672443,951.01776966339924,962.36447364007392,973.71117761674873,985.05788159342353,996.40458557009822,1007.751289546773,1019.0979935234477,1030.4446975001226,1041.7914014767973,1053.138105453472,1064.4848094301469,1075.8315134068216,1087.1782173834963,1098.5249213601712,1109.8716253368459,1121.2183293135206,1132.5650332901955,1143.9117372668702],"text":["net:  191.47000<br />gross:  247.52212","net:  199.98329<br />gross:  258.86883","net:  208.49658<br />gross:  270.21553","net:  217.00987<br />gross:  281.56224","net:  225.52316<br />gross:  292.90894","net:  234.03646<br />gross:  304.25564","net:  242.54975<br />gross:  315.60235","net:  251.06304<br />gross:  326.94905","net:  259.57633<br />gross:  338.29575","net:  268.08962<br />gross:  349.64246","net:  276.60291<br />gross:  360.98916","net:  285.11620<br />gross:  372.33587","net:  293.62949<br />gross:  383.68257","net:  302.14278<br />gross:  395.02927","net:  310.65608<br />gross:  406.37598","net:  319.16937<br />gross:  417.72268","net:  327.68266<br />gross:  429.06939","net:  336.19595<br />gross:  440.41609","net:  344.70924<br />gross:  451.76279","net:  353.22253<br />gross:  463.10950","net:  361.73582<br />gross:  474.45620","net:  370.24911<br />gross:  485.80291","net:  378.76241<br />gross:  497.14961","net:  387.27570<br />gross:  508.49631","net:  395.78899<br />gross:  519.84302","net:  404.30228<br />gross:  531.18972","net:  412.81557<br />gross:  542.53643","net:  421.32886<br />gross:  553.88313","net:  429.84215<br />gross:  565.22983","net:  438.35544<br />gross:  576.57654","net:  446.86873<br />gross:  587.92324","net:  455.38203<br />gross:  599.26995","net:  463.89532<br />gross:  610.61665","net:  472.40861<br />gross:  621.96335","net:  480.92190<br />gross:  633.31006","net:  489.43519<br />gross:  644.65676","net:  497.94848<br />gross:  656.00347","net:  506.46177<br />gross:  667.35017","net:  514.97506<br />gross:  678.69687","net:  523.48835<br />gross:  690.04358","net:  532.00165<br />gross:  701.39028","net:  540.51494<br />gross:  712.73699","net:  549.02823<br />gross:  724.08369","net:  557.54152<br />gross:  735.43039","net:  566.05481<br />gross:  746.77710","net:  574.56810<br />gross:  758.12380","net:  583.08139<br />gross:  769.47051","net:  591.59468<br />gross:  780.81721","net:  600.10797<br />gross:  792.16391","net:  608.62127<br />gross:  803.51062","net:  617.13456<br />gross:  814.85732","net:  625.64785<br />gross:  826.20403","net:  634.16114<br />gross:  837.55073","net:  642.67443<br />gross:  848.89743","net:  651.18772<br />gross:  860.24414","net:  659.70101<br />gross:  871.59084","net:  668.21430<br />gross:  882.93755","net:  676.72759<br />gross:  894.28425","net:  685.24089<br />gross:  905.63095","net:  693.75418<br />gross:  916.97766","net:  702.26747<br />gross:  928.32436","net:  710.78076<br />gross:  939.67107","net:  719.29405<br />gross:  951.01777","net:  727.80734<br />gross:  962.36447","net:  736.32063<br />gross:  973.71118","net:  744.83392<br />gross:  985.05788","net:  753.34722<br />gross:  996.40459","net:  761.86051<br />gross: 1007.75129","net:  770.37380<br />gross: 1019.09799","net:  778.88709<br />gross: 1030.44470","net:  787.40038<br />gross: 1041.79140","net:  795.91367<br />gross: 1053.13811","net:  804.42696<br />gross: 1064.48481","net:  812.94025<br />gross: 1075.83151","net:  821.45354<br />gross: 1087.17822","net:  829.96684<br />gross: 1098.52492","net:  838.48013<br />gross: 1109.87163","net:  846.99342<br />gross: 1121.21833","net:  855.50671<br />gross: 1132.56503","net:  864.02000<br />gross: 1143.91174"],"type":"scatter","mode":"lines","name":"fitted values","line":{"width":3.7795275590551185,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[0,31.372658227848103,62.745316455696205,94.117974683544304,125.49063291139241,156.86329113924052,188.23594936708861,219.60860759493673,250.98126582278482,282.35392405063294,313.72658227848103,345.09924050632912,376.47189873417722,407.84455696202531,439.21721518987346,470.58987341772155,501.96253164556964,533.33518987341779,564.70784810126588,596.08050632911397,627.45316455696207,658.82582278481016,690.19848101265825,721.57113924050634,752.94379746835443,784.31645569620252,815.68911392405062,847.06177215189882,878.43443037974691,909.80708860759501,941.1797468354431,972.55240506329119,1003.9250632911393,1035.2977215189874,1066.6703797468356,1098.0430379746836,1129.4156962025318,1160.7883544303797,1192.1610126582279,1223.5336708860759,1254.9063291139241,1286.2789873417721,1317.6516455696203,1349.0243037974685,1380.3969620253165,1411.7696202531647,1443.1422784810127,1474.5149367088609,1505.8875949367089,1537.2602531645571,1568.632911392405,1600.0055696202533,1631.3782278481012,1662.7508860759494,1694.1235443037976,1725.4962025316456,1756.8688607594938,1788.2415189873418,1819.61417721519,1850.986835443038,1882.3594936708862,1913.7321518987342,1945.1048101265824,1976.4774683544304,2007.8501265822786,2039.2227848101268,2070.5954430379747,2101.968101265823,2133.3407594936712,2164.7134177215189,2196.0860759493671,2227.4587341772153,2258.8313924050635,2290.2040506329113,2321.5767088607595,2352.9493670886077,2384.3220253164559,2415.6946835443041,2447.0673417721518,2478.4400000000001],"y":[53.660036480455901,92.871072864633817,132.08210924881175,171.29314563298968,210.50418201716758,249.71521840134551,288.92625478552344,328.13729116970143,367.3483275538793,406.55936393805729,445.77040032223516,484.98143670641309,524.19247309059097,563.40350947476884,602.61454585894694,641.82558224312481,681.03661862730269,720.24765501148067,759.45869139565866,798.66972777983653,837.88076416401441,877.0918005481924,916.30283693237027,955.51387331654814,994.72490970072613,1033.9359460849039,1073.1469824690819,1112.3580188532599,1151.5690552374379,1190.7800916216156,1229.9911280057936,1269.2021643899716,1308.4132007741493,1347.6242371583273,1386.8352735425053,1426.0463099266831,1465.2573463108613,1504.4683826950391,1543.679419079217,1582.8904554633948,1622.1014918475728,1661.3125282317505,1700.5235646159288,1739.7346010001067,1778.9456373842845,1818.1566737684625,1857.3677101526403,1896.5787465368185,1935.7897829209962,1975.0008193051742,2014.211855689352,2053.42289207353,2092.633928457708,2131.8449648418859,2171.0560012260639,2210.2670376102415,2249.4780739944199,2288.6891103785974,2327.9001467627754,2367.1111831469534,2406.3222195311314,2445.5332559153089,2484.7442922994874,2523.9553286836649,2563.1663650678429,2602.3774014520209,2641.5884378361989,2680.7994742203769,2720.0105106045548,2759.2215469887324,2798.4325833729104,2837.6436197570883,2876.8546561412668,2916.0656925254443,2955.2767289096223,2994.4877652938003,3033.6988016779783,3072.9098380621563,3112.1208744463338,3151.3319108305118],"text":["net:    0.00000<br />gross:   53.66004","net:   31.37266<br />gross:   92.87107","net:   62.74532<br />gross:  132.08211","net:   94.11797<br />gross:  171.29315","net:  125.49063<br />gross:  210.50418","net:  156.86329<br />gross:  249.71522","net:  188.23595<br />gross:  288.92625","net:  219.60861<br />gross:  328.13729","net:  250.98127<br />gross:  367.34833","net:  282.35392<br />gross:  406.55936","net:  313.72658<br />gross:  445.77040","net:  345.09924<br />gross:  484.98144","net:  376.47190<br />gross:  524.19247","net:  407.84456<br />gross:  563.40351","net:  439.21722<br />gross:  602.61455","net:  470.58987<br />gross:  641.82558","net:  501.96253<br />gross:  681.03662","net:  533.33519<br />gross:  720.24766","net:  564.70785<br />gross:  759.45869","net:  596.08051<br />gross:  798.66973","net:  627.45316<br />gross:  837.88076","net:  658.82582<br />gross:  877.09180","net:  690.19848<br />gross:  916.30284","net:  721.57114<br />gross:  955.51387","net:  752.94380<br />gross:  994.72491","net:  784.31646<br />gross: 1033.93595","net:  815.68911<br />gross: 1073.14698","net:  847.06177<br />gross: 1112.35802","net:  878.43443<br />gross: 1151.56906","net:  909.80709<br />gross: 1190.78009","net:  941.17975<br />gross: 1229.99113","net:  972.55241<br />gross: 1269.20216","net: 1003.92506<br />gross: 1308.41320","net: 1035.29772<br />gross: 1347.62424","net: 1066.67038<br />gross: 1386.83527","net: 1098.04304<br />gross: 1426.04631","net: 1129.41570<br />gross: 1465.25735","net: 1160.78835<br />gross: 1504.46838","net: 1192.16101<br />gross: 1543.67942","net: 1223.53367<br />gross: 1582.89046","net: 1254.90633<br />gross: 1622.10149","net: 1286.27899<br />gross: 1661.31253","net: 1317.65165<br />gross: 1700.52356","net: 1349.02430<br />gross: 1739.73460","net: 1380.39696<br />gross: 1778.94564","net: 1411.76962<br />gross: 1818.15667","net: 1443.14228<br />gross: 1857.36771","net: 1474.51494<br />gross: 1896.57875","net: 1505.88759<br />gross: 1935.78978","net: 1537.26025<br />gross: 1975.00082","net: 1568.63291<br />gross: 2014.21186","net: 1600.00557<br />gross: 2053.42289","net: 1631.37823<br />gross: 2092.63393","net: 1662.75089<br />gross: 2131.84496","net: 1694.12354<br />gross: 2171.05600","net: 1725.49620<br />gross: 2210.26704","net: 1756.86886<br />gross: 2249.47807","net: 1788.24152<br />gross: 2288.68911","net: 1819.61418<br />gross: 2327.90015","net: 1850.98684<br />gross: 2367.11118","net: 1882.35949<br />gross: 2406.32222","net: 1913.73215<br />gross: 2445.53326","net: 1945.10481<br />gross: 2484.74429","net: 1976.47747<br />gross: 2523.95533","net: 2007.85013<br />gross: 2563.16637","net: 2039.22278<br />gross: 2602.37740","net: 2070.59544<br />gross: 2641.58844","net: 2101.96810<br />gross: 2680.79947","net: 2133.34076<br />gross: 2720.01051","net: 2164.71342<br />gross: 2759.22155","net: 2196.08608<br />gross: 2798.43258","net: 2227.45873<br />gross: 2837.64362","net: 2258.83139<br />gross: 2876.85466","net: 2290.20405<br />gross: 2916.06569","net: 2321.57671<br />gross: 2955.27673","net: 2352.94937<br />gross: 2994.48777","net: 2384.32203<br />gross: 3033.69880","net: 2415.69468<br />gross: 3072.90984","net: 2447.06734<br />gross: 3112.12087","net: 2478.44000<br />gross: 3151.33191"],"type":"scatter","mode":"lines","name":"fitted values","line":{"width":3.7795275590551185,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[166.74000000000001,184.90025316455697,203.06050632911393,221.2207594936709,239.38101265822786,257.54126582278479,275.70151898734179,293.86177215189878,312.02202531645571,330.18227848101264,348.34253164556964,366.50278481012663,384.66303797468356,402.8232911392405,420.98354430379749,439.14379746835448,457.30405063291141,475.46430379746835,493.62455696202534,511.78481012658233,529.94506329113926,548.1053164556962,566.26556962025325,584.42582278481018,602.58607594936711,620.74632911392405,638.90658227848098,657.06683544303803,675.22708860759496,693.3873417721519,711.54759493670895,729.70784810126588,747.86810126582282,766.02835443037975,784.18860759493668,802.34886075949373,820.50911392405067,838.6693670886076,856.82962025316465,874.98987341772158,893.15012658227852,911.31037974683545,929.47063291139239,947.63088607594943,965.79113924050637,983.9513924050633,1002.1116455696204,1020.2718987341773,1038.4321518987342,1056.5924050632912,1074.7526582278481,1092.912911392405,1111.0731645569622,1129.2334177215189,1147.3936708860761,1165.553924050633,1183.7141772151899,1201.8744303797469,1220.0346835443038,1238.1949367088607,1256.3551898734179,1274.5154430379748,1292.6756962025318,1310.8359493670887,1328.9962025316456,1347.1564556962026,1365.3167088607595,1383.4769620253164,1401.6372151898734,1419.7974683544305,1437.9577215189875,1456.1179746835444,1474.2782278481013,1492.4384810126583,1510.5987341772152,1528.7589873417721,1546.9192405063293,1565.0794936708862,1583.2397468354432,1601.4000000000001,1601.4000000000001,1583.2397468354432,1565.0794936708862,1546.9192405063293,1528.7589873417721,1510.5987341772152,1492.4384810126583,1474.2782278481013,1456.1179746835444,1437.9577215189875,1419.7974683544305,1401.6372151898734,1383.4769620253164,1365.3167088607595,1347.1564556962026,1328.9962025316456,1310.8359493670887,1292.6756962025318,1274.5154430379748,1256.3551898734179,1238.1949367088607,1220.0346835443038,1201.8744303797469,1183.7141772151899,1165.553924050633,1147.3936708860761,1129.2334177215189,1111.0731645569622,1092.912911392405,1074.7526582278481,1056.5924050632912,1038.4321518987342,1020.2718987341773,1002.1116455696204,983.9513924050633,965.79113924050637,947.63088607594943,929.47063291139239,911.31037974683545,893.15012658227852,874.98987341772158,856.82962025316465,838.6693670886076,820.50911392405067,802.34886075949373,784.18860759493668,766.02835443037975,747.86810126582282,729.70784810126588,711.54759493670895,693.3873417721519,675.22708860759496,657.06683544303803,638.90658227848098,620.74632911392405,602.58607594936711,584.42582278481018,566.26556962025325,548.1053164556962,529.94506329113926,511.78481012658233,493.62455696202534,475.46430379746835,457.30405063291141,439.14379746835448,420.98354430379749,402.8232911392405,384.66303797468356,366.50278481012663,348.34253164556964,330.18227848101264,312.02202531645571,293.86177215189878,275.70151898734179,257.54126582278479,239.38101265822786,221.2207594936709,203.06050632911393,184.90025316455697,166.74000000000001,166.74000000000001],"y":[355.04063373458092,376.61078283961774,398.16732552669117,419.70925669493749,441.23547686022442,462.74478182705116,484.23585115401158,505.70723528434263,527.1573412080088,548.58441652071463,569.9865317504499,591.36156083673086,612.70715967573642,634.02074269160528,655.29945746744374,676.54015757826028,697.73937392343316,718.89328507186224,739.99768742375977,761.04796637452057,782.03907015150605,802.9654885904921,823.82123981793461,844.59986857756473,865.2944607180558,885.89767902487563,906.40182595359988,926.79893865876977,947.08092072016325,967.23971285976927,987.26750152722093,1007.1569595432381,1026.9015074224881,1046.4955783785906,1065.9348655551328,1085.2165280732922,1104.3393341043648,1123.3037246929428,1142.111790780988,1160.7671661709232,1179.2748488814657,1197.6409705396879,1215.8725369386195,1233.977162532741,1251.9628182116523,1269.8376064563811,1287.609572260591,1305.2865530183326,1322.8760665373788,1340.3852336219611,1357.8207301795408,1375.1887632875594,1392.4950658095772,1409.7449047045322,1426.9430989163509,1444.0940435174027,1461.2017375190321,1478.2698134094346,1495.3015670167886,1512.2999867249466,1529.2677814009426,1546.2074066428634,1563.121089138772,1580.0108490566358,1596.8785204740204,1613.7257699147942,1630.5541130963632,1647.3649300113245,1664.1594784766121,1680.9389062848145,1697.7042620889338,1714.4565051453337,1731.1965140312909,1747.9250944443866,1764.6429861815161,1781.3508693860367,1798.0493701427008,1814.7390654917574,1831.4204879259564,1848.0941294272366,2098.6271720942468,2076.971642825356,2055.3238944893842,2033.68441906827,2012.0537490547631,1990.4324614891127,1968.8211824560717,1947.2205920989963,1925.631430214783,1904.0545025010119,1882.4906875349607,1860.9409445729916,1839.4063222681086,1817.887968412899,1796.3871408242974,1774.9052194949002,1753.4437201421142,1732.0043092898075,1710.5888210155451,1689.1992754872954,1667.8378993931199,1646.5071483311074,1625.2097311682903,1603.9486362885223,1582.7271595199807,1561.5489333508619,1540.4179567925091,1519.3386249172941,1498.3157566691405,1477.3546190069885,1456.4609447943972,1435.6409411088089,1414.9012838576841,1394.2490938452552,1373.6918888792941,1353.2375063538518,1332.8939912625926,1312.6694460865431,1292.5718417153037,1272.6087926033554,1252.7873045437268,1233.1135091634915,1213.5924044813657,1194.2276242997727,1175.0212595606747,1155.9737513086632,1137.0838677150343,1118.3487679009663,1099.7641450100452,1081.3244322558919,1063.0230501531726,1044.8526715226076,1026.8054828138306,1008.8734247488294,991.04840090738264,973.32244844403192,955.68786981435198,938.13732780381156,920.66390826108307,903.26115592989811,885.92308893671304,868.64419711730284,851.4194286990296,834.24416907728789,817.11421465229,800.02574399293576,782.97528799860322,765.9597002443013,748.97612831313609,732.02198662924627,715.09493108881077,698.19283563134559,681.31377078484127,664.45598414500125,647.61788270179068,630.7980168984468,613.99506629356279,597.20782669163827,580.43519860854099,563.67617694340697,355.04063373458092],"text":["net:  166.74000<br />gross:  459.35841","net:  184.90025<br />gross:  478.52299","net:  203.06051<br />gross:  497.68758","net:  221.22076<br />gross:  516.85216","net:  239.38101<br />gross:  536.01675","net:  257.54127<br />gross:  555.18133","net:  275.70152<br />gross:  574.34592","net:  293.86177<br />gross:  593.51050","net:  312.02203<br />gross:  612.67509","net:  330.18228<br />gross:  631.83967","net:  348.34253<br />gross:  651.00426","net:  366.50278<br />gross:  670.16884","net:  384.66304<br />gross:  689.33343","net:  402.82329<br />gross:  708.49802","net:  420.98354<br />gross:  727.66260","net:  439.14380<br />gross:  746.82719","net:  457.30405<br />gross:  765.99177","net:  475.46430<br />gross:  785.15636","net:  493.62456<br />gross:  804.32094","net:  511.78481<br />gross:  823.48553","net:  529.94506<br />gross:  842.65011","net:  548.10532<br />gross:  861.81470","net:  566.26557<br />gross:  880.97928","net:  584.42582<br />gross:  900.14387","net:  602.58608<br />gross:  919.30845","net:  620.74633<br />gross:  938.47304","net:  638.90658<br />gross:  957.63763","net:  657.06684<br />gross:  976.80221","net:  675.22709<br />gross:  995.96680","net:  693.38734<br />gross: 1015.13138","net:  711.54759<br />gross: 1034.29597","net:  729.70785<br />gross: 1053.46055","net:  747.86810<br />gross: 1072.62514","net:  766.02835<br />gross: 1091.78972","net:  784.18861<br />gross: 1110.95431","net:  802.34886<br />gross: 1130.11889","net:  820.50911<br />gross: 1149.28348","net:  838.66937<br />gross: 1168.44806","net:  856.82962<br />gross: 1187.61265","net:  874.98987<br />gross: 1206.77724","net:  893.15013<br />gross: 1225.94182","net:  911.31038<br />gross: 1245.10641","net:  929.47063<br />gross: 1264.27099","net:  947.63089<br />gross: 1283.43558","net:  965.79114<br />gross: 1302.60016","net:  983.95139<br />gross: 1321.76475","net: 1002.11165<br />gross: 1340.92933","net: 1020.27190<br />gross: 1360.09392","net: 1038.43215<br />gross: 1379.25850","net: 1056.59241<br />gross: 1398.42309","net: 1074.75266<br />gross: 1417.58767","net: 1092.91291<br />gross: 1436.75226","net: 1111.07316<br />gross: 1455.91685","net: 1129.23342<br />gross: 1475.08143","net: 1147.39367<br />gross: 1494.24602","net: 1165.55392<br />gross: 1513.41060","net: 1183.71418<br />gross: 1532.57519","net: 1201.87443<br />gross: 1551.73977","net: 1220.03468<br />gross: 1570.90436","net: 1238.19494<br />gross: 1590.06894","net: 1256.35519<br />gross: 1609.23353","net: 1274.51544<br />gross: 1628.39811","net: 1292.67570<br />gross: 1647.56270","net: 1310.83595<br />gross: 1666.72728","net: 1328.99620<br />gross: 1685.89187","net: 1347.15646<br />gross: 1705.05646","net: 1365.31671<br />gross: 1724.22104","net: 1383.47696<br />gross: 1743.38563","net: 1401.63722<br />gross: 1762.55021","net: 1419.79747<br />gross: 1781.71480","net: 1437.95772<br />gross: 1800.87938","net: 1456.11797<br />gross: 1820.04397","net: 1474.27823<br />gross: 1839.20855","net: 1492.43848<br />gross: 1858.37314","net: 1510.59873<br />gross: 1877.53772","net: 1528.75899<br />gross: 1896.70231","net: 1546.91924<br />gross: 1915.86689","net: 1565.07949<br />gross: 1935.03148","net: 1583.23975<br />gross: 1954.19607","net: 1601.40000<br />gross: 1973.36065","net: 1601.40000<br />gross: 1973.36065","net: 1583.23975<br />gross: 1954.19607","net: 1565.07949<br />gross: 1935.03148","net: 1546.91924<br />gross: 1915.86689","net: 1528.75899<br />gross: 1896.70231","net: 1510.59873<br />gross: 1877.53772","net: 1492.43848<br />gross: 1858.37314","net: 1474.27823<br />gross: 1839.20855","net: 1456.11797<br />gross: 1820.04397","net: 1437.95772<br />gross: 1800.87938","net: 1419.79747<br />gross: 1781.71480","net: 1401.63722<br />gross: 1762.55021","net: 1383.47696<br />gross: 1743.38563","net: 1365.31671<br />gross: 1724.22104","net: 1347.15646<br />gross: 1705.05646","net: 1328.99620<br />gross: 1685.89187","net: 1310.83595<br />gross: 1666.72728","net: 1292.67570<br />gross: 1647.56270","net: 1274.51544<br />gross: 1628.39811","net: 1256.35519<br />gross: 1609.23353","net: 1238.19494<br />gross: 1590.06894","net: 1220.03468<br />gross: 1570.90436","net: 1201.87443<br />gross: 1551.73977","net: 1183.71418<br />gross: 1532.57519","net: 1165.55392<br />gross: 1513.41060","net: 1147.39367<br />gross: 1494.24602","net: 1129.23342<br />gross: 1475.08143","net: 1111.07316<br />gross: 1455.91685","net: 1092.91291<br />gross: 1436.75226","net: 1074.75266<br />gross: 1417.58767","net: 1056.59241<br />gross: 1398.42309","net: 1038.43215<br />gross: 1379.25850","net: 1020.27190<br />gross: 1360.09392","net: 1002.11165<br />gross: 1340.92933","net:  983.95139<br />gross: 1321.76475","net:  965.79114<br />gross: 1302.60016","net:  947.63089<br />gross: 1283.43558","net:  929.47063<br />gross: 1264.27099","net:  911.31038<br />gross: 1245.10641","net:  893.15013<br />gross: 1225.94182","net:  874.98987<br />gross: 1206.77724","net:  856.82962<br />gross: 1187.61265","net:  838.66937<br />gross: 1168.44806","net:  820.50911<br />gross: 1149.28348","net:  802.34886<br />gross: 1130.11889","net:  784.18861<br />gross: 1110.95431","net:  766.02835<br />gross: 1091.78972","net:  747.86810<br />gross: 1072.62514","net:  729.70785<br />gross: 1053.46055","net:  711.54759<br />gross: 1034.29597","net:  693.38734<br />gross: 1015.13138","net:  675.22709<br />gross:  995.96680","net:  657.06684<br />gross:  976.80221","net:  638.90658<br />gross:  957.63763","net:  620.74633<br />gross:  938.47304","net:  602.58608<br />gross:  919.30845","net:  584.42582<br />gross:  900.14387","net:  566.26557<br />gross:  880.97928","net:  548.10532<br />gross:  861.81470","net:  529.94506<br />gross:  842.65011","net:  511.78481<br />gross:  823.48553","net:  493.62456<br />gross:  804.32094","net:  475.46430<br />gross:  785.15636","net:  457.30405<br />gross:  765.99177","net:  439.14380<br />gross:  746.82719","net:  420.98354<br />gross:  727.66260","net:  402.82329<br />gross:  708.49802","net:  384.66304<br />gross:  689.33343","net:  366.50278<br />gross:  670.16884","net:  348.34253<br />gross:  651.00426","net:  330.18228<br />gross:  631.83967","net:  312.02203<br />gross:  612.67509","net:  293.86177<br />gross:  593.51050","net:  275.70152<br />gross:  574.34592","net:  257.54127<br />gross:  555.18133","net:  239.38101<br />gross:  536.01675","net:  221.22076<br />gross:  516.85216","net:  203.06051<br />gross:  497.68758","net:  184.90025<br />gross:  478.52299","net:  166.74000<br />gross:  459.35841","net:  166.74000<br />gross:  459.35841"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.5)","hoveron":"points","hoverinfo":"x+y","showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[199.90000000000001,210.10443037974684,220.30886075949368,230.51329113924052,240.71772151898733,250.92215189873417,261.12658227848101,271.33101265822785,281.53544303797469,291.73987341772153,301.94430379746836,312.1487341772152,322.35316455696204,332.55759493670882,342.76202531645572,352.9664556962025,363.1708860759494,373.37531645569618,383.57974683544307,393.78417721518986,403.98860759493675,414.19303797468353,424.39746835443037,434.60189873417721,444.80632911392405,455.01075949367089,465.21518987341767,475.41962025316457,485.62405063291135,495.82848101265824,506.03291139240503,516.23734177215192,526.4417721518987,536.6462025316456,546.85063291139238,557.05506329113928,567.25949367088606,577.46392405063295,587.66835443037974,597.87278481012663,608.07721518987341,618.2816455696202,628.48607594936709,638.69050632911387,648.89493670886077,659.09936708860755,669.30379746835445,679.50822784810123,689.71265822784812,699.91708860759491,710.1215189873418,720.32594936708858,730.53037974683537,740.73481012658226,750.93924050632904,761.14367088607594,771.34810126582272,781.55253164556962,791.7569620253164,801.96139240506329,812.16582278481008,822.37025316455697,832.57468354430375,842.77911392405065,852.98354430379743,863.18797468354421,873.39240506329111,883.59683544303789,893.80126582278479,904.00569620253157,914.21012658227846,924.41455696202524,934.61898734177214,944.82341772151892,955.02784810126582,965.2322784810126,975.4367088607595,985.64113924050628,995.84556962025317,1006.05,1006.05,995.84556962025317,985.64113924050628,975.4367088607595,965.2322784810126,955.02784810126582,944.82341772151892,934.61898734177214,924.41455696202524,914.21012658227846,904.00569620253157,893.80126582278479,883.59683544303789,873.39240506329111,863.18797468354421,852.98354430379743,842.77911392405065,832.57468354430375,822.37025316455697,812.16582278481008,801.96139240506329,791.7569620253164,781.55253164556962,771.34810126582272,761.14367088607594,750.93924050632904,740.73481012658226,730.53037974683537,720.32594936708858,710.1215189873418,699.91708860759491,689.71265822784812,679.50822784810123,669.30379746835445,659.09936708860755,648.89493670886077,638.69050632911387,628.48607594936709,618.2816455696202,608.07721518987341,597.87278481012663,587.66835443037974,577.46392405063295,567.25949367088606,557.05506329113928,546.85063291139238,536.6462025316456,526.4417721518987,516.23734177215192,506.03291139240503,495.82848101265824,485.62405063291135,475.41962025316457,465.21518987341767,455.01075949367089,444.80632911392405,434.60189873417721,424.39746835443037,414.19303797468353,403.98860759493675,393.78417721518986,383.57974683544307,373.37531645569618,363.1708860759494,352.9664556962025,342.76202531645572,332.55759493670882,322.35316455696204,312.1487341772152,301.94430379746836,291.73987341772153,281.53544303797469,271.33101265822785,261.12658227848101,250.92215189873417,240.71772151898733,230.51329113924052,220.30886075949368,210.10443037974684,199.90000000000001,199.90000000000001],"y":[-14.420814025990296,1.4478040469035136,17.28330514533036,33.083802465200847,48.847273706045826,64.571549835767655,80.254302872427729,95.89303260650604,111.4850521854284,127.02747248207618,142.51718517107781,157.95084444170396,173.32484728513589,188.63531230797673,203.87805704464068,219.04857377055515,234.14200385818509,249.15311077139648,264.07625186373821,278.90534923635005,293.63386002530376,308.25474663030673,322.76044757086584,337.14284986563916,351.39326407803111,365.50240345608381,379.46036891381789,393.25664194554906,406.88008791819141,420.3189725234493,433.56099445465355,446.59333755117041,459.4027456627739,471.97562325215648,484.29816419588474,496.35651028844364,508.13693954816142,519.62608255757084,530.81116279833623,541.68025439981272,552.22254814009148,562.42861423106842,572.29064874601522,581.80268986263286,590.96079066805623,599.76313722043676,608.21010379209588,616.30424142028073,624.05020057336037,631.45459332106009,638.52580431477327,645.27376270129389,651.70968857177627,657.84582766951803,663.6951870215471,669.27128222802685,674.58790470398924,679.65891456967393,684.49806241517513,689.11884102027193,693.53436639872962,697.75728628780701,701.79971339110182,705.67318024432188,709.38861243137603,712.95631695316195,716.38598277184542,719.68669085972579,722.86693142791012,725.93462636275501,728.89715523519067,731.76138355619776,734.53369222404274,737.22000734321671,739.82582979222047,742.35626408015582,744.81604616418008,747.20957000535373,749.54091272327332,751.81385827391568,1395.8177358823759,1380.3645639215147,1364.9697891279307,1349.6371954576007,1334.3708600301209,1319.1751768065526,1304.0548817440526,1289.0150793517228,1274.0612705080639,1259.1993813175675,1244.4357926784992,1229.7773701018407,1215.2314931585211,1200.8060837348978,1186.5096320420776,1172.3512190523597,1158.3405337279103,1144.4878830696264,1130.8041926614178,1117.3009950389912,1103.9904029059453,1090.8850639995383,1077.9980943335358,1065.3429866877168,1052.9334916521752,1040.7834693471514,1028.9067111876766,1017.3167327739147,1006.0265411328933,995.04838200791028,984.39347549011961,974.07175072631571,964.09159236789151,954.45961248457274,945.18046154472802,936.25669058560493,927.68867387952446,919.47459748463848,911.61051448808144,904.09046306755477,896.9066392963299,890.04961338630255,883.50857611556432,877.27160161347012,871.32591336168434,865.65814194273912,860.2545653749637,855.10132545284273,850.18461605294237,845.49084163795533,841.00674605765607,836.7195131514103,832.6168416125488,828.68699713277613,824.91884507900659,821.30186694555573,817.82616364644377,814.48244842971326,811.26203185876875,808.1568009522681,805.15919422971797,802.26217409082619,799.45919767166401,796.7441870733719,794.111499649498,791.55589886390885,789.0725260890689,786.65687360040613,784.30475893233438,782.01230069145674,779.77589586895465,777.59219865409864,775.45810072151733,773.37071294409191,771.32734846924825,769.32550708746635,767.36286081680771,765.43724062517435,763.54662421209764,761.68912477348749,-14.420814025990296],"text":["net:  199.90000<br />gross:  373.63416","net:  210.10443<br />gross:  382.49721","net:  220.30886<br />gross:  391.36027","net:  230.51329<br />gross:  400.22333","net:  240.71772<br />gross:  409.08639","net:  250.92215<br />gross:  417.94945","net:  261.12658<br />gross:  426.81251","net:  271.33101<br />gross:  435.67557","net:  281.53544<br />gross:  444.53863","net:  291.73987<br />gross:  453.40168","net:  301.94430<br />gross:  462.26474","net:  312.14873<br />gross:  471.12780","net:  322.35316<br />gross:  479.99086","net:  332.55759<br />gross:  488.85392","net:  342.76203<br />gross:  497.71698","net:  352.96646<br />gross:  506.58004","net:  363.17089<br />gross:  515.44310","net:  373.37532<br />gross:  524.30615","net:  383.57975<br />gross:  533.16921","net:  393.78418<br />gross:  542.03227","net:  403.98861<br />gross:  550.89533","net:  414.19304<br />gross:  559.75839","net:  424.39747<br />gross:  568.62145","net:  434.60190<br />gross:  577.48451","net:  444.80633<br />gross:  586.34757","net:  455.01076<br />gross:  595.21062","net:  465.21519<br />gross:  604.07368","net:  475.41962<br />gross:  612.93674","net:  485.62405<br />gross:  621.79980","net:  495.82848<br />gross:  630.66286","net:  506.03291<br />gross:  639.52592","net:  516.23734<br />gross:  648.38898","net:  526.44177<br />gross:  657.25204","net:  536.64620<br />gross:  666.11509","net:  546.85063<br />gross:  674.97815","net:  557.05506<br />gross:  683.84121","net:  567.25949<br />gross:  692.70427","net:  577.46392<br />gross:  701.56733","net:  587.66835<br />gross:  710.43039","net:  597.87278<br />gross:  719.29345","net:  608.07722<br />gross:  728.15651","net:  618.28165<br />gross:  737.01956","net:  628.48608<br />gross:  745.88262","net:  638.69051<br />gross:  754.74568","net:  648.89494<br />gross:  763.60874","net:  659.09937<br />gross:  772.47180","net:  669.30380<br />gross:  781.33486","net:  679.50823<br />gross:  790.19792","net:  689.71266<br />gross:  799.06098","net:  699.91709<br />gross:  807.92403","net:  710.12152<br />gross:  816.78709","net:  720.32595<br />gross:  825.65015","net:  730.53038<br />gross:  834.51321","net:  740.73481<br />gross:  843.37627","net:  750.93924<br />gross:  852.23933","net:  761.14367<br />gross:  861.10239","net:  771.34810<br />gross:  869.96545","net:  781.55253<br />gross:  878.82850","net:  791.75696<br />gross:  887.69156","net:  801.96139<br />gross:  896.55462","net:  812.16582<br />gross:  905.41768","net:  822.37025<br />gross:  914.28074","net:  832.57468<br />gross:  923.14380","net:  842.77911<br />gross:  932.00686","net:  852.98354<br />gross:  940.86992","net:  863.18797<br />gross:  949.73297","net:  873.39241<br />gross:  958.59603","net:  883.59684<br />gross:  967.45909","net:  893.80127<br />gross:  976.32215","net:  904.00570<br />gross:  985.18521","net:  914.21013<br />gross:  994.04827","net:  924.41456<br />gross: 1002.91133","net:  934.61899<br />gross: 1011.77439","net:  944.82342<br />gross: 1020.63744","net:  955.02785<br />gross: 1029.50050","net:  965.23228<br />gross: 1038.36356","net:  975.43671<br />gross: 1047.22662","net:  985.64114<br />gross: 1056.08968","net:  995.84557<br />gross: 1064.95274","net: 1006.05000<br />gross: 1073.81580","net: 1006.05000<br />gross: 1073.81580","net:  995.84557<br />gross: 1064.95274","net:  985.64114<br />gross: 1056.08968","net:  975.43671<br />gross: 1047.22662","net:  965.23228<br />gross: 1038.36356","net:  955.02785<br />gross: 1029.50050","net:  944.82342<br />gross: 1020.63744","net:  934.61899<br />gross: 1011.77439","net:  924.41456<br />gross: 1002.91133","net:  914.21013<br />gross:  994.04827","net:  904.00570<br />gross:  985.18521","net:  893.80127<br />gross:  976.32215","net:  883.59684<br />gross:  967.45909","net:  873.39241<br />gross:  958.59603","net:  863.18797<br />gross:  949.73297","net:  852.98354<br />gross:  940.86992","net:  842.77911<br />gross:  932.00686","net:  832.57468<br />gross:  923.14380","net:  822.37025<br />gross:  914.28074","net:  812.16582<br />gross:  905.41768","net:  801.96139<br />gross:  896.55462","net:  791.75696<br />gross:  887.69156","net:  781.55253<br />gross:  878.82850","net:  771.34810<br />gross:  869.96545","net:  761.14367<br />gross:  861.10239","net:  750.93924<br />gross:  852.23933","net:  740.73481<br />gross:  843.37627","net:  730.53038<br />gross:  834.51321","net:  720.32595<br />gross:  825.65015","net:  710.12152<br />gross:  816.78709","net:  699.91709<br />gross:  807.92403","net:  689.71266<br />gross:  799.06098","net:  679.50823<br />gross:  790.19792","net:  669.30380<br />gross:  781.33486","net:  659.09937<br />gross:  772.47180","net:  648.89494<br />gross:  763.60874","net:  638.69051<br />gross:  754.74568","net:  628.48608<br />gross:  745.88262","net:  618.28165<br />gross:  737.01956","net:  608.07722<br />gross:  728.15651","net:  597.87278<br />gross:  719.29345","net:  587.66835<br />gross:  710.43039","net:  577.46392<br />gross:  701.56733","net:  567.25949<br />gross:  692.70427","net:  557.05506<br />gross:  683.84121","net:  546.85063<br />gross:  674.97815","net:  536.64620<br />gross:  666.11509","net:  526.44177<br />gross:  657.25204","net:  516.23734<br />gross:  648.38898","net:  506.03291<br />gross:  639.52592","net:  495.82848<br />gross:  630.66286","net:  485.62405<br />gross:  621.79980","net:  475.41962<br />gross:  612.93674","net:  465.21519<br />gross:  604.07368","net:  455.01076<br />gross:  595.21062","net:  444.80633<br />gross:  586.34757","net:  434.60190<br />gross:  577.48451","net:  424.39747<br />gross:  568.62145","net:  414.19304<br />gross:  559.75839","net:  403.98861<br />gross:  550.89533","net:  393.78418<br />gross:  542.03227","net:  383.57975<br />gross:  533.16921","net:  373.37532<br />gross:  524.30615","net:  363.17089<br />gross:  515.44310","net:  352.96646<br />gross:  506.58004","net:  342.76203<br />gross:  497.71698","net:  332.55759<br />gross:  488.85392","net:  322.35316<br />gross:  479.99086","net:  312.14873<br />gross:  471.12780","net:  301.94430<br />gross:  462.26474","net:  291.73987<br />gross:  453.40168","net:  281.53544<br />gross:  444.53863","net:  271.33101<br />gross:  435.67557","net:  261.12658<br />gross:  426.81251","net:  250.92215<br />gross:  417.94945","net:  240.71772<br />gross:  409.08639","net:  230.51329<br />gross:  400.22333","net:  220.30886<br />gross:  391.36027","net:  210.10443<br />gross:  382.49721","net:  199.90000<br />gross:  373.63416","net:  199.90000<br />gross:  373.63416"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.5)","hoveron":"points","hoverinfo":"x+y","showlegend":false,"xaxis":"x3","yaxis":"y","frame":null},{"x":[191.47,199.98329113924049,208.49658227848101,217.00987341772151,225.52316455696203,234.03645569620252,242.54974683544305,251.06303797468354,259.57632911392403,268.08962025316453,276.60291139240508,285.11620253164557,293.62949367088606,302.14278481012656,310.65607594936705,319.1693670886076,327.68265822784809,336.19594936708859,344.70924050632914,353.22253164556957,361.73582278481013,370.24911392405062,378.76240506329111,387.27569620253166,395.7889873417721,404.30227848101265,412.81556962025314,421.32886075949364,429.84215189873419,438.35544303797468,446.86873417721517,455.38202531645572,463.89531645569616,472.40860759493671,480.92189873417715,489.4351898734177,497.94848101265825,506.46177215189869,514.97506329113924,523.48835443037979,532.00164556962022,540.51493670886077,549.02822784810121,557.54151898734176,566.05481012658231,574.56810126582275,583.0813924050633,591.59468354430373,600.10797468354428,608.62126582278484,617.13455696202527,625.64784810126582,634.16113924050626,642.67443037974681,651.18772151898736,659.7010126582278,668.21430379746835,676.72759493670878,685.24088607594933,693.75417721518988,702.26746835443032,710.78075949367087,719.29405063291142,727.80734177215186,736.32063291139241,744.83392405063296,753.3472151898734,761.86050632911395,770.37379746835438,778.88708860759493,787.40037974683548,795.91367088607592,804.42696202531647,812.94025316455691,821.45354430379746,829.96683544303801,838.48012658227844,846.99341772151899,855.50670886075955,864.01999999999998,864.01999999999998,855.50670886075955,846.99341772151899,838.48012658227844,829.96683544303801,821.45354430379746,812.94025316455691,804.42696202531647,795.91367088607592,787.40037974683548,778.88708860759493,770.37379746835438,761.86050632911395,753.3472151898734,744.83392405063296,736.32063291139241,727.80734177215186,719.29405063291142,710.78075949367087,702.26746835443032,693.75417721518988,685.24088607594933,676.72759493670878,668.21430379746835,659.7010126582278,651.18772151898736,642.67443037974681,634.16113924050626,625.64784810126582,617.13455696202527,608.62126582278484,600.10797468354428,591.59468354430373,583.0813924050633,574.56810126582275,566.05481012658231,557.54151898734176,549.02822784810121,540.51493670886077,532.00164556962022,523.48835443037979,514.97506329113924,506.46177215189869,497.94848101265825,489.4351898734177,480.92189873417715,472.40860759493671,463.89531645569616,455.38202531645572,446.86873417721517,438.35544303797468,429.84215189873419,421.32886075949364,412.81556962025314,404.30227848101265,395.7889873417721,387.27569620253166,378.76240506329111,370.24911392405062,361.73582278481013,353.22253164556957,344.70924050632914,336.19594936708859,327.68265822784809,319.1693670886076,310.65607594936705,302.14278481012656,293.62949367088606,285.11620253164557,276.60291139240508,268.08962025316453,259.57632911392403,251.06303797468354,242.54974683544305,234.03645569620252,225.52316455696203,217.00987341772151,208.49658227848101,199.98329113924049,191.47,191.47],"y":[208.19283465545905,220.2241444453131,232.25260959963276,244.27807407096418,256.30037095168268,268.31932159186169,280.33473463986218,292.34640499920152,304.35411269494261,316.3576216425904,328.35667831232314,340.35101028135989,352.34032466743173,364.3243064367424,376.30261658056673,388.27489015584644,400.24073418693047,412.19972542814298,424.15140799032685,436.09529083915106,448.0308451790487,459.95750174447198,471.87464803007873,483.78162550382274,495.67772686211697,507.56219340455863,519.43421262739992,531.29291616006947,543.13737819736582,554.96661461080282,566.7795829547465,578.57518361437087,590.35226237007805,602.10961467266077,613.84599192977089,625.5601100907561,637.25066077651127,648.91632512675869,660.55579042355464,672.16776939440638,683.75102190375867,695.30437851722957,706.82676518634321,718.31722807798099,729.77495739348433,741.19930891996239,752.58982205897689,763.94623320225958,775.26848357042707,786.55672097915476,797.81129541040207,809.03274869443192,820.22179899914966,831.37932113131092,842.50632384908147,853.60392545620891,864.67332890245916,875.71579747550788,886.73263196705022,897.72514996314237,908.69466767478093,919.64248451152991,930.56987042259368,941.47805589239374,952.36822438162289,963.24150694591117,974.09897873634088,984.94165708192611,995.77050086696363,1006.5864109398323,1017.3902313195028,1028.1827509980603,1038.964706169327,1049.7367827435576,1060.4996190351694,1071.2538085341037,1081.999902691653,1092.7384136685139,1103.4698170067493,1114.1945541986177,1173.6289203351228,1161.6602495736417,1149.6982449585273,1137.7433479820388,1125.7960341862388,1113.8568157318232,1101.9262440700857,1090.0049126909669,1078.0934599088837,1066.1925716340918,1054.3029840604131,1042.4254861799318,1030.5609220116198,1018.7101924038556,1006.8742562409359,995.05413085187456,983.25089138775411,971.46566890420479,959.69964686191895,947.95405574531833,936.23016550360751,924.52927554634982,912.85270208454256,901.2017627042419,889.57775819714254,877.98195185092061,866.41554661534155,854.87966079415321,843.37530314552157,831.90334847620181,820.46451495409974,809.05934440947783,797.68818682429571,786.35119001422902,775.04829519989391,763.7792387730226,752.54356013517611,741.34061507346428,730.16959378922854,719.02954244934983,707.91938700535275,696.83795802285488,685.78401536630122,674.75627176319927,663.75341449560483,652.77412470324043,641.81709400700117,630.88103835623428,619.96470915859209,609.06690186486685,598.18646225546092,587.32229071554855,576.47334479949507,565.63864037881524,554.81725164830686,544.00831023739897,533.21100364234371,522.42457316273806,511.64831149499537,500.88156010706916,490.12370649361708,479.37418138909203,468.63245599792617,457.8980392857892,447.17047536352374,436.44934098545383,425.73424317592867,415.02481699188985,404.3207234246122,393.62164744029945,382.92729615668247,372.23739715098077,361.55169689337237,350.86995929936222,340.1919643940131,329.51750708084262,318.84639600821151,308.17845252619344,297.51350972716364,286.85141156366814,208.19283465545905],"text":["net:  191.47000<br />gross:  247.52212","net:  199.98329<br />gross:  258.86883","net:  208.49658<br />gross:  270.21553","net:  217.00987<br />gross:  281.56224","net:  225.52316<br />gross:  292.90894","net:  234.03646<br />gross:  304.25564","net:  242.54975<br />gross:  315.60235","net:  251.06304<br />gross:  326.94905","net:  259.57633<br />gross:  338.29575","net:  268.08962<br />gross:  349.64246","net:  276.60291<br />gross:  360.98916","net:  285.11620<br />gross:  372.33587","net:  293.62949<br />gross:  383.68257","net:  302.14278<br />gross:  395.02927","net:  310.65608<br />gross:  406.37598","net:  319.16937<br />gross:  417.72268","net:  327.68266<br />gross:  429.06939","net:  336.19595<br />gross:  440.41609","net:  344.70924<br />gross:  451.76279","net:  353.22253<br />gross:  463.10950","net:  361.73582<br />gross:  474.45620","net:  370.24911<br />gross:  485.80291","net:  378.76241<br />gross:  497.14961","net:  387.27570<br />gross:  508.49631","net:  395.78899<br />gross:  519.84302","net:  404.30228<br />gross:  531.18972","net:  412.81557<br />gross:  542.53643","net:  421.32886<br />gross:  553.88313","net:  429.84215<br />gross:  565.22983","net:  438.35544<br />gross:  576.57654","net:  446.86873<br />gross:  587.92324","net:  455.38203<br />gross:  599.26995","net:  463.89532<br />gross:  610.61665","net:  472.40861<br />gross:  621.96335","net:  480.92190<br />gross:  633.31006","net:  489.43519<br />gross:  644.65676","net:  497.94848<br />gross:  656.00347","net:  506.46177<br />gross:  667.35017","net:  514.97506<br />gross:  678.69687","net:  523.48835<br />gross:  690.04358","net:  532.00165<br />gross:  701.39028","net:  540.51494<br />gross:  712.73699","net:  549.02823<br />gross:  724.08369","net:  557.54152<br />gross:  735.43039","net:  566.05481<br />gross:  746.77710","net:  574.56810<br />gross:  758.12380","net:  583.08139<br />gross:  769.47051","net:  591.59468<br />gross:  780.81721","net:  600.10797<br />gross:  792.16391","net:  608.62127<br />gross:  803.51062","net:  617.13456<br />gross:  814.85732","net:  625.64785<br />gross:  826.20403","net:  634.16114<br />gross:  837.55073","net:  642.67443<br />gross:  848.89743","net:  651.18772<br />gross:  860.24414","net:  659.70101<br />gross:  871.59084","net:  668.21430<br />gross:  882.93755","net:  676.72759<br />gross:  894.28425","net:  685.24089<br />gross:  905.63095","net:  693.75418<br />gross:  916.97766","net:  702.26747<br />gross:  928.32436","net:  710.78076<br />gross:  939.67107","net:  719.29405<br />gross:  951.01777","net:  727.80734<br />gross:  962.36447","net:  736.32063<br />gross:  973.71118","net:  744.83392<br />gross:  985.05788","net:  753.34722<br />gross:  996.40459","net:  761.86051<br />gross: 1007.75129","net:  770.37380<br />gross: 1019.09799","net:  778.88709<br />gross: 1030.44470","net:  787.40038<br />gross: 1041.79140","net:  795.91367<br />gross: 1053.13811","net:  804.42696<br />gross: 1064.48481","net:  812.94025<br />gross: 1075.83151","net:  821.45354<br />gross: 1087.17822","net:  829.96684<br />gross: 1098.52492","net:  838.48013<br />gross: 1109.87163","net:  846.99342<br />gross: 1121.21833","net:  855.50671<br />gross: 1132.56503","net:  864.02000<br />gross: 1143.91174","net:  864.02000<br />gross: 1143.91174","net:  855.50671<br />gross: 1132.56503","net:  846.99342<br />gross: 1121.21833","net:  838.48013<br />gross: 1109.87163","net:  829.96684<br />gross: 1098.52492","net:  821.45354<br />gross: 1087.17822","net:  812.94025<br />gross: 1075.83151","net:  804.42696<br />gross: 1064.48481","net:  795.91367<br />gross: 1053.13811","net:  787.40038<br />gross: 1041.79140","net:  778.88709<br />gross: 1030.44470","net:  770.37380<br />gross: 1019.09799","net:  761.86051<br />gross: 1007.75129","net:  753.34722<br />gross:  996.40459","net:  744.83392<br />gross:  985.05788","net:  736.32063<br />gross:  973.71118","net:  727.80734<br />gross:  962.36447","net:  719.29405<br />gross:  951.01777","net:  710.78076<br />gross:  939.67107","net:  702.26747<br />gross:  928.32436","net:  693.75418<br />gross:  916.97766","net:  685.24089<br />gross:  905.63095","net:  676.72759<br />gross:  894.28425","net:  668.21430<br />gross:  882.93755","net:  659.70101<br />gross:  871.59084","net:  651.18772<br />gross:  860.24414","net:  642.67443<br />gross:  848.89743","net:  634.16114<br />gross:  837.55073","net:  625.64785<br />gross:  826.20403","net:  617.13456<br />gross:  814.85732","net:  608.62127<br />gross:  803.51062","net:  600.10797<br />gross:  792.16391","net:  591.59468<br />gross:  780.81721","net:  583.08139<br />gross:  769.47051","net:  574.56810<br />gross:  758.12380","net:  566.05481<br />gross:  746.77710","net:  557.54152<br />gross:  735.43039","net:  549.02823<br />gross:  724.08369","net:  540.51494<br />gross:  712.73699","net:  532.00165<br />gross:  701.39028","net:  523.48835<br />gross:  690.04358","net:  514.97506<br />gross:  678.69687","net:  506.46177<br />gross:  667.35017","net:  497.94848<br />gross:  656.00347","net:  489.43519<br />gross:  644.65676","net:  480.92190<br />gross:  633.31006","net:  472.40861<br />gross:  621.96335","net:  463.89532<br />gross:  610.61665","net:  455.38203<br />gross:  599.26995","net:  446.86873<br />gross:  587.92324","net:  438.35544<br />gross:  576.57654","net:  429.84215<br />gross:  565.22983","net:  421.32886<br />gross:  553.88313","net:  412.81557<br />gross:  542.53643","net:  404.30228<br />gross:  531.18972","net:  395.78899<br />gross:  519.84302","net:  387.27570<br />gross:  508.49631","net:  378.76241<br />gross:  497.14961","net:  370.24911<br />gross:  485.80291","net:  361.73582<br />gross:  474.45620","net:  353.22253<br />gross:  463.10950","net:  344.70924<br />gross:  451.76279","net:  336.19595<br />gross:  440.41609","net:  327.68266<br />gross:  429.06939","net:  319.16937<br />gross:  417.72268","net:  310.65608<br />gross:  406.37598","net:  302.14278<br />gross:  395.02927","net:  293.62949<br />gross:  383.68257","net:  285.11620<br />gross:  372.33587","net:  276.60291<br />gross:  360.98916","net:  268.08962<br />gross:  349.64246","net:  259.57633<br />gross:  338.29575","net:  251.06304<br />gross:  326.94905","net:  242.54975<br />gross:  315.60235","net:  234.03646<br />gross:  304.25564","net:  225.52316<br />gross:  292.90894","net:  217.00987<br />gross:  281.56224","net:  208.49658<br />gross:  270.21553","net:  199.98329<br />gross:  258.86883","net:  191.47000<br />gross:  247.52212","net:  191.47000<br />gross:  247.52212"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.5)","hoveron":"points","hoverinfo":"x+y","showlegend":false,"xaxis":"x","yaxis":"y2","frame":null},{"x":[0,31.372658227848103,62.745316455696205,94.117974683544304,125.49063291139241,156.86329113924052,188.23594936708861,219.60860759493673,250.98126582278482,282.35392405063294,313.72658227848103,345.09924050632912,376.47189873417722,407.84455696202531,439.21721518987346,470.58987341772155,501.96253164556964,533.33518987341779,564.70784810126588,596.08050632911397,627.45316455696207,658.82582278481016,690.19848101265825,721.57113924050634,752.94379746835443,784.31645569620252,815.68911392405062,847.06177215189882,878.43443037974691,909.80708860759501,941.1797468354431,972.55240506329119,1003.9250632911393,1035.2977215189874,1066.6703797468356,1098.0430379746836,1129.4156962025318,1160.7883544303797,1192.1610126582279,1223.5336708860759,1254.9063291139241,1286.2789873417721,1317.6516455696203,1349.0243037974685,1380.3969620253165,1411.7696202531647,1443.1422784810127,1474.5149367088609,1505.8875949367089,1537.2602531645571,1568.632911392405,1600.0055696202533,1631.3782278481012,1662.7508860759494,1694.1235443037976,1725.4962025316456,1756.8688607594938,1788.2415189873418,1819.61417721519,1850.986835443038,1882.3594936708862,1913.7321518987342,1945.1048101265824,1976.4774683544304,2007.8501265822786,2039.2227848101268,2070.5954430379747,2101.968101265823,2133.3407594936712,2164.7134177215189,2196.0860759493671,2227.4587341772153,2258.8313924050635,2290.2040506329113,2321.5767088607595,2352.9493670886077,2384.3220253164559,2415.6946835443041,2447.0673417721518,2478.4400000000001,2478.4400000000001,2478.4400000000001,2447.0673417721518,2415.6946835443041,2384.3220253164559,2352.9493670886077,2321.5767088607595,2290.2040506329113,2258.8313924050635,2227.4587341772153,2196.0860759493671,2164.7134177215189,2133.3407594936712,2101.968101265823,2070.5954430379747,2039.2227848101268,2007.8501265822786,1976.4774683544304,1945.1048101265824,1913.7321518987342,1882.3594936708862,1850.986835443038,1819.61417721519,1788.2415189873418,1756.8688607594938,1725.4962025316456,1694.1235443037976,1662.7508860759494,1631.3782278481012,1600.0055696202533,1568.632911392405,1537.2602531645571,1505.8875949367089,1474.5149367088609,1443.1422784810127,1411.7696202531647,1380.3969620253165,1349.0243037974685,1317.6516455696203,1286.2789873417721,1254.9063291139241,1223.5336708860759,1192.1610126582279,1160.7883544303797,1129.4156962025318,1098.0430379746836,1066.6703797468356,1035.2977215189874,1003.9250632911393,972.55240506329119,941.1797468354431,909.80708860759501,878.43443037974691,847.06177215189882,815.68911392405062,784.31645569620252,752.94379746835443,721.57113924050634,690.19848101265825,658.82582278481016,627.45316455696207,596.08050632911397,564.70784810126588,533.33518987341779,501.96253164556964,470.58987341772155,439.21721518987346,407.84455696202531,376.47189873417722,345.09924050632912,313.72658227848103,282.35392405063294,250.98126582278482,219.60860759493673,188.23594936708861,156.86329113924052,125.49063291139241,94.117974683544304,62.745316455696205,31.372658227848103,0,0],"y":[-38.760370863648859,3.0149430288155088,44.778806558607911,86.530185159160126,128.26792181472791,169.99071945652017,211.6971204640235,253.38548276202587,295.05395191848072,336.70042855444922,378.32253027821628,419.91754725809216,461.48239046477619,503.01353156572799,544.50693347556739,585.95797071314735,627.36133907184467,668.71095479917176,709.99984468129458,751.22003037320121,792.36241329568577,833.41667074085217,874.37117970625422,915.21299233494074,955.92789494206693,996.50058958068087,1036.9150394472447,1077.1550120242719,1117.204831099672,1157.0503076391442,1196.6797640207737,1236.0850112860965,1275.2621087107912,1314.2117515218808,1352.9392014405205,1391.4537756511363,1429.7680047081835,1467.8966241469061,1505.8555655560888,1543.6610725533883,1581.3290098556031,1618.8743813801761,1656.311037604562,1693.6515347241893,1730.9071042449903,1768.0876958371696,1805.2020638696865,1842.2578760607582,1879.2618296362689,1916.2197657932777,1953.1367771588966,1990.0173055755022,2026.8652292388456,2063.6839392418537,2100.4764061515666,2137.2452375294674,2173.9927274076967,2210.7208987297231,2247.4315397022929,2284.1262349159051,2320.8063919920733,2357.4732644174965,2394.127971133682,2430.7715133680281,2467.4047891197743,2504.0286056512509,2540.6436902809646,2577.2506997291098,2613.8502282272871,2650.4428145713896,2687.0289482690623,2723.6090749099085,2760.1836008671316,2796.752897422899,2833.3173043959414,2869.8771333382592,2906.4326703580741,2942.9841786178586,2979.5319005493279,3016.0760598213565,3016.0760598213565,3286.5877618396671,3244.7098483433397,3202.835497506454,3160.9649329978824,3119.0983972493414,3077.2361534233032,3035.3784876279897,2993.5257114154019,2951.6781646042682,2909.8362184767584,2868.0002794060752,2826.1707929818226,2784.3482487116439,2742.5331853914331,2700.7261972527908,2658.9279410159115,2617.1391439993017,2575.3606134652928,2533.5932474131214,2491.8380470701895,2450.0961313780017,2408.368753823258,2366.6573220274718,2324.9634205811431,2283.2888376910155,2241.6355963005612,2200.0059904419181,2158.4026276765703,2116.8284785715578,2075.2869342198073,2033.7818728170707,1992.3177362057236,1950.8996170128787,1909.533356435594,1868.2256516997554,1826.9841705235788,1785.8176672760242,1744.7360916272955,1703.7506750833249,1662.8739738395425,1622.1198383734013,1581.5032726023453,1541.040141243172,1500.7466879135391,1460.6388442022298,1420.7313456444901,1381.0367227947738,1341.5642928375075,1302.3193174938467,1263.3024919908135,1224.509875604087,1185.9332793752037,1147.5610256822479,1109.3789254909191,1071.371302589127,1033.5219244593852,995.81475429815555,958.23449415848631,920.76693035553262,883.39911503234305,846.11942518647186,808.91753811002275,771.78435522378959,734.71189818276071,697.69319377310228,660.72215824232649,623.79348738380963,586.9025557164058,550.04532615473397,513.21827036625405,476.41829932166536,439.64270318927788,402.88909957737701,366.15538910702338,329.43971734617082,292.74044221960725,256.05610610681924,219.38541193901557,182.72720270045212,146.08044382456066,-38.760370863648859],"text":["net:    0.00000<br />gross:   53.66004","net:   31.37266<br />gross:   92.87107","net:   62.74532<br />gross:  132.08211","net:   94.11797<br />gross:  171.29315","net:  125.49063<br />gross:  210.50418","net:  156.86329<br />gross:  249.71522","net:  188.23595<br />gross:  288.92625","net:  219.60861<br />gross:  328.13729","net:  250.98127<br />gross:  367.34833","net:  282.35392<br />gross:  406.55936","net:  313.72658<br />gross:  445.77040","net:  345.09924<br />gross:  484.98144","net:  376.47190<br />gross:  524.19247","net:  407.84456<br />gross:  563.40351","net:  439.21722<br />gross:  602.61455","net:  470.58987<br />gross:  641.82558","net:  501.96253<br />gross:  681.03662","net:  533.33519<br />gross:  720.24766","net:  564.70785<br />gross:  759.45869","net:  596.08051<br />gross:  798.66973","net:  627.45316<br />gross:  837.88076","net:  658.82582<br />gross:  877.09180","net:  690.19848<br />gross:  916.30284","net:  721.57114<br />gross:  955.51387","net:  752.94380<br />gross:  994.72491","net:  784.31646<br />gross: 1033.93595","net:  815.68911<br />gross: 1073.14698","net:  847.06177<br />gross: 1112.35802","net:  878.43443<br />gross: 1151.56906","net:  909.80709<br />gross: 1190.78009","net:  941.17975<br />gross: 1229.99113","net:  972.55241<br />gross: 1269.20216","net: 1003.92506<br />gross: 1308.41320","net: 1035.29772<br />gross: 1347.62424","net: 1066.67038<br />gross: 1386.83527","net: 1098.04304<br />gross: 1426.04631","net: 1129.41570<br />gross: 1465.25735","net: 1160.78835<br />gross: 1504.46838","net: 1192.16101<br />gross: 1543.67942","net: 1223.53367<br />gross: 1582.89046","net: 1254.90633<br />gross: 1622.10149","net: 1286.27899<br />gross: 1661.31253","net: 1317.65165<br />gross: 1700.52356","net: 1349.02430<br />gross: 1739.73460","net: 1380.39696<br />gross: 1778.94564","net: 1411.76962<br />gross: 1818.15667","net: 1443.14228<br />gross: 1857.36771","net: 1474.51494<br />gross: 1896.57875","net: 1505.88759<br />gross: 1935.78978","net: 1537.26025<br />gross: 1975.00082","net: 1568.63291<br />gross: 2014.21186","net: 1600.00557<br />gross: 2053.42289","net: 1631.37823<br />gross: 2092.63393","net: 1662.75089<br />gross: 2131.84496","net: 1694.12354<br />gross: 2171.05600","net: 1725.49620<br />gross: 2210.26704","net: 1756.86886<br />gross: 2249.47807","net: 1788.24152<br />gross: 2288.68911","net: 1819.61418<br />gross: 2327.90015","net: 1850.98684<br />gross: 2367.11118","net: 1882.35949<br />gross: 2406.32222","net: 1913.73215<br />gross: 2445.53326","net: 1945.10481<br />gross: 2484.74429","net: 1976.47747<br />gross: 2523.95533","net: 2007.85013<br />gross: 2563.16637","net: 2039.22278<br />gross: 2602.37740","net: 2070.59544<br />gross: 2641.58844","net: 2101.96810<br />gross: 2680.79947","net: 2133.34076<br />gross: 2720.01051","net: 2164.71342<br />gross: 2759.22155","net: 2196.08608<br />gross: 2798.43258","net: 2227.45873<br />gross: 2837.64362","net: 2258.83139<br />gross: 2876.85466","net: 2290.20405<br />gross: 2916.06569","net: 2321.57671<br />gross: 2955.27673","net: 2352.94937<br />gross: 2994.48777","net: 2384.32203<br />gross: 3033.69880","net: 2415.69468<br />gross: 3072.90984","net: 2447.06734<br />gross: 3112.12087","net: 2478.44000<br />gross: 3151.33191","net: 2478.44000<br />gross: 3151.33191","net: 2478.44000<br />gross: 3151.33191","net: 2447.06734<br />gross: 3112.12087","net: 2415.69468<br />gross: 3072.90984","net: 2384.32203<br />gross: 3033.69880","net: 2352.94937<br />gross: 2994.48777","net: 2321.57671<br />gross: 2955.27673","net: 2290.20405<br />gross: 2916.06569","net: 2258.83139<br />gross: 2876.85466","net: 2227.45873<br />gross: 2837.64362","net: 2196.08608<br />gross: 2798.43258","net: 2164.71342<br />gross: 2759.22155","net: 2133.34076<br />gross: 2720.01051","net: 2101.96810<br />gross: 2680.79947","net: 2070.59544<br />gross: 2641.58844","net: 2039.22278<br />gross: 2602.37740","net: 2007.85013<br />gross: 2563.16637","net: 1976.47747<br />gross: 2523.95533","net: 1945.10481<br />gross: 2484.74429","net: 1913.73215<br />gross: 2445.53326","net: 1882.35949<br />gross: 2406.32222","net: 1850.98684<br />gross: 2367.11118","net: 1819.61418<br />gross: 2327.90015","net: 1788.24152<br />gross: 2288.68911","net: 1756.86886<br />gross: 2249.47807","net: 1725.49620<br />gross: 2210.26704","net: 1694.12354<br />gross: 2171.05600","net: 1662.75089<br />gross: 2131.84496","net: 1631.37823<br />gross: 2092.63393","net: 1600.00557<br />gross: 2053.42289","net: 1568.63291<br />gross: 2014.21186","net: 1537.26025<br />gross: 1975.00082","net: 1505.88759<br />gross: 1935.78978","net: 1474.51494<br />gross: 1896.57875","net: 1443.14228<br />gross: 1857.36771","net: 1411.76962<br />gross: 1818.15667","net: 1380.39696<br />gross: 1778.94564","net: 1349.02430<br />gross: 1739.73460","net: 1317.65165<br />gross: 1700.52356","net: 1286.27899<br />gross: 1661.31253","net: 1254.90633<br />gross: 1622.10149","net: 1223.53367<br />gross: 1582.89046","net: 1192.16101<br />gross: 1543.67942","net: 1160.78835<br />gross: 1504.46838","net: 1129.41570<br />gross: 1465.25735","net: 1098.04304<br />gross: 1426.04631","net: 1066.67038<br />gross: 1386.83527","net: 1035.29772<br />gross: 1347.62424","net: 1003.92506<br />gross: 1308.41320","net:  972.55241<br />gross: 1269.20216","net:  941.17975<br />gross: 1229.99113","net:  909.80709<br />gross: 1190.78009","net:  878.43443<br />gross: 1151.56906","net:  847.06177<br />gross: 1112.35802","net:  815.68911<br />gross: 1073.14698","net:  784.31646<br />gross: 1033.93595","net:  752.94380<br />gross:  994.72491","net:  721.57114<br />gross:  955.51387","net:  690.19848<br />gross:  916.30284","net:  658.82582<br />gross:  877.09180","net:  627.45316<br />gross:  837.88076","net:  596.08051<br />gross:  798.66973","net:  564.70785<br />gross:  759.45869","net:  533.33519<br />gross:  720.24766","net:  501.96253<br />gross:  681.03662","net:  470.58987<br />gross:  641.82558","net:  439.21722<br />gross:  602.61455","net:  407.84456<br />gross:  563.40351","net:  376.47190<br />gross:  524.19247","net:  345.09924<br />gross:  484.98144","net:  313.72658<br />gross:  445.77040","net:  282.35392<br />gross:  406.55936","net:  250.98127<br />gross:  367.34833","net:  219.60861<br />gross:  328.13729","net:  188.23595<br />gross:  288.92625","net:  156.86329<br />gross:  249.71522","net:  125.49063<br />gross:  210.50418","net:   94.11797<br />gross:  171.29315","net:   62.74532<br />gross:  132.08211","net:   31.37266<br />gross:   92.87107","net:    0.00000<br />gross:   53.66004","net:    0.00000<br />gross:   53.66004"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.5)","hoveron":"points","hoverinfo":"x+y","showlegend":false,"xaxis":"x2","yaxis":"y2","frame":null}],"layout":{"margin":{"t":37.917808219178085,"r":7.3059360730593621,"b":40.182648401826491,"l":60.639269406392714},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,0.32925636007827785],"automargin":true,"type":"linear","autorange":false,"range":[-123.92200000000001,2602.3620000000001],"tickmode":"array","ticktext":["$0","$1,000","$2,000"],"tickvals":[0,1000,2000],"categoryorder":"array","categoryarray":["$0","$1,000","$2,000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y2","title":"","hoverformat":".2f"},"annotations":[{"text":"Weekly Net","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-21.917808219178088},{"text":"Weekly Gross","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-45.296803652968045},{"text":"Black","x":0.16462818003913893,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Hispanic","x":0.5,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Indigenous","x":0.83537181996086107,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Multiracial","x":0.16462818003913893,"y":0.48515981735159819,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"White","x":0.5,"y":0.48515981735159819,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0.51484018264840181,1],"automargin":true,"type":"linear","autorange":false,"range":[-205.02777749881466,3452.8551684748327],"tickmode":"array","ticktext":["$0","$1,000","$2,000","$3,000"],"tickvals":[0,1000,1999.9999999999998,3000],"categoryorder":"array","categoryarray":["$0","$1,000","$2,000","$3,000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.32925636007827785,"y0":0.51484018264840181,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.32925636007827785,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.33741030658838878,"x1":0.66258969341161122,"y0":0.51484018264840181,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.33741030658838878,"x1":0.66258969341161122,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.67074363992172203,"x1":1,"y0":0.51484018264840181,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.67074363992172203,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.32925636007827785,"y0":0,"y1":0.48515981735159819},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.32925636007827785,"y0":0,"y1":23.37899543378996,"yanchor":0.48515981735159819,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.33741030658838878,"x1":0.66258969341161122,"y0":0,"y1":0.48515981735159819},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.33741030658838878,"x1":0.66258969341161122,"y0":0,"y1":23.37899543378996,"yanchor":0.48515981735159819,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[-123.92200000000001,2602.3620000000001],"tickmode":"array","ticktext":["$0","$1,000","$2,000"],"tickvals":[0,1000,2000],"categoryorder":"array","categoryarray":["$0","$1,000","$2,000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.33741030658838878,0.66258969341161122],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y2","title":"","hoverformat":".2f"},"xaxis3":{"type":"linear","autorange":false,"range":[-123.92200000000001,2602.3620000000001],"tickmode":"array","ticktext":["$0","$1,000","$2,000"],"tickvals":[0,1000,2000],"categoryorder":"array","categoryarray":["$0","$1,000","$2,000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.67074363992172203,1],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"yaxis2":{"type":"linear","autorange":false,"range":[-205.02777749881466,3452.8551684748327],"tickmode":"array","ticktext":["$0","$1,000","$2,000","$3,000"],"tickvals":[0,1000,1999.9999999999998,3000],"categoryorder":"array","categoryarray":["$0","$1,000","$2,000","$3,000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.48515981735159819],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"746c9be14a":{"x":{},"y":{},"type":"scatter"},"746c422f28da":{"x":{},"y":{}}},"cur_data":"746c9be14a","visdat":{"746c9be14a":["function (y) ","x"],"746c422f28da":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Sweet. Not perfect - but with a bit of TLC it’d be right as rain.</p>
<p><br> <br></p>
</section>
<section id="combining-plots" class="level2" data-number="24.10">
<h2 data-number="24.10" class="anchored" data-anchor-id="combining-plots"><span class="header-section-number">24.10</span> Combining Plots</h2>
<p>Overlaying one plot ontop of another is simply a matter of adding <strong>geoms</strong>.</p>
<p>Needed within those <strong>geoms</strong> may be new calls to <code>aes()</code>.</p>
<p><br></p>
<p>Let’s begin with a simple jitter plot of <code>net</code> distributed by <code>ethnicity</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(hancock,</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> net,</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> ethnicity)) <span class="sc">+</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">height =</span> <span class="fl">0.3</span>,</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">alpha =</span> <span class="fl">0.3</span>,</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">color =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-67-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><strong>Overlay plots</strong> by adding additional <strong>geom</strong>. Here, we add <code>geom_boxplot()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(hancock,</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> ethnicity,</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> net)) <span class="sc">+</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">height =</span> <span class="fl">0.3</span>,</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">alpha =</span> <span class="fl">0.3</span>,</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">color =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">height =</span> <span class="fl">0.3</span>,              <span class="co"># Simply add the new geom</span></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> <span class="st">"transparent"</span>,      <span class="co"># Modify attributes accordingly</span></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> <span class="st">"grey50"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-68-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<p><strong>The Final Product:</strong> A plot overlay with some finishing touches:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(extrafont)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(hancock,</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(ethnicity, net),</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> net)) <span class="sc">+</span></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">height =</span> <span class="fl">0.3</span>,</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">alpha =</span> <span class="fl">0.4</span>,</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">color =</span> <span class="st">"dodgerblue"</span>) <span class="sc">+</span></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">height =</span> <span class="fl">0.2</span>,</span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> <span class="st">"transparent"</span>,</span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> <span class="st">"grey50"</span>) <span class="sc">+</span></span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of weekly net by ethnicity"</span>,</span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Hancock Airport, 2018"</span>,</span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Weekly Net"</span>,</span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Source: Syracuse Regional Airport Authority"</span>) <span class="sc">+</span></span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> dollar) <span class="sc">+</span></span>
<span id="cb54-20"><a href="#cb54-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"Calibri Light"</span>),</span>
<span id="cb54-21"><a href="#cb54-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">vjust =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb54-22"><a href="#cb54-22" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">color =</span> <span class="st">"grey20"</span>),</span>
<span id="cb54-23"><a href="#cb54-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">vjust =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb54-24"><a href="#cb54-24" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">color =</span> <span class="st">"grey60"</span>),</span>
<span id="cb54-25"><a href="#cb54-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">vjust =</span> <span class="dv">1</span>,</span>
<span id="cb54-26"><a href="#cb54-26" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">color =</span> <span class="st">"grey30"</span>),</span>
<span id="cb54-27"><a href="#cb54-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">vjust =</span> <span class="dv">2</span>,</span>
<span id="cb54-28"><a href="#cb54-28" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">color =</span> <span class="st">"grey10"</span>),</span>
<span id="cb54-29"><a href="#cb54-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">colour =</span> <span class="st">"grey10"</span>),</span>
<span id="cb54-30"><a href="#cb54-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">colour =</span> <span class="st">"grey10"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="6_40-ggplot2_files/figure-html/unnamed-chunk-69-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br> <br></p>
</section>
<section id="package-ggplot2-extensions" class="level2" data-number="24.11">
<h2 data-number="24.11" class="anchored" data-anchor-id="package-ggplot2-extensions"><span class="header-section-number">24.11</span> Package “ggplot2” Extensions</h2>
<p>We used a “ggplot2” extension in the introduction to this chapter: <a href="https://www.rdocumentation.org/packages/GGally/versions/1.4.0">“GGally”</a>.</p>
<p>You can find a list of every single extension at the <a href="http://www.ggplot2-exts.org/gallery/"><strong>ggplot2 extensions gallery</strong></a>.</p>
<p><br> <br></p>
</section>
<section id="further-resources" class="level2" data-number="24.12">
<h2 data-number="24.12" class="anchored" data-anchor-id="further-resources"><span class="header-section-number">24.12</span> Further Resources</h2>
<p>To review the practice data from Hancock Airport, get the raw data URL <a href="https://raw.githubusercontent.com/DS4PS/dp4ss-textbook/master/tables/hancock.csv">here</a>.</p>
<p>There’s a lot to master here - but it’s worth it. These can help:</p>
<ul>
<li><a href="https://ggplot2.tidyverse.org">ggplot2 Tidyverse Page</a></li>
<li><a href="https://github.com/rstudio/cheatsheets/blob/master/data-visualization-2.1.pdf">ggplot2 Cheat Sheet (RStudio)</a></li>
<li><a href="https://www.ggplot2-exts.org/gallery/">ggplot2 Extensions Gallery</a></li>
<li><a href="https://www.r-graph-gallery.com/">The R Graph Gallery</a></li>
<li><a href="https://www.rdocumentation.org/packages/scales/versions/0.4.1">R Documentation: Scales</a></li>
<li><a href="https://plot.ly/r/">R Graphing Library (Plotly)</a></li>
<li><a href="http://rpubs.com/JamisonCrawford/ggplot2">“Visualization with ggplot2: Part I”</a></li>
<li><a href="http://rpubs.com/JamisonCrawford/ggplot22">“Visualization with ggplot2: Part II”</a></li>
<li><a href="http://rpubs.com/JamisonCrawford/ggplot23">“Visualization with ggplot2: Part III”</a></li>
</ul>
<p><br> <br></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./6_31-xkcd-stickfigures.html" class="pagination-link" aria-label="Stylized Plot Example">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Stylized Plot Example</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->




</body></html>